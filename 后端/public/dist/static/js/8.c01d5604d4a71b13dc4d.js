webpackJsonp([8],{ZtLn:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),r=a.n(i),s=a("NYxO"),o={data:function(){return{activeIndex:1,currentCate:1,pageSize:3}},components:{ProductItem:a("ywGw").a},computed:r()({},Object(s.c)(["categoryList","userInfo","recommendshoplist"]),{catePages:function(){var t=this,e=[];return this.categoryList.forEach(function(a,i){var r=Math.ceil(a.cate_counts/t.pageSize);console.log(r),e.push(r)}),e}}),activated:function(){this.currentCate=Number(this.$route.params.id),this.activeIndex=Number(this.$route.params.pageNo),this.$store.dispatch("reqCategory"),this.$store.dispatch("reqRecommendShopList",{category:this.currentCate,pageNo:this.activeIndex,count:this.pageSize}),this.$store.dispatch("getUserInfo")},watch:{$route:function(){this.currentCate=Number(this.$route.params.id),this.activeIndex=Number(this.$route.params.pageNo),this.$store.dispatch("reqRecommendShopList",{category:this.currentCate,pageNo:this.activeIndex,count:this.pageSize})}},methods:{handleCommand:function(t){this.$store.dispatch("reqRecommendShopList",{category:t,pageNo:1,count:this.pageSize}),this.$router.replace("/search/"+t+"/1"),this.currentCate=t,this.activeIndex=1},goDetail:function(t){this.$router.replace("/goods/"+t)},getMore:function(t){t&&t<=this.catePages[this.currentCate-1]&&(this.$store.dispatch("reqRecommendShopList",{category:this.currentCate,pageNo:t}),this.activeIndex=t,this.$router.replace("/search/"+this.currentCate+"/"+this.activeIndex))}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.categoryList.length?a("div",[a("div",{attrs:{id:"container"}},[a("div",{staticClass:"product"},[a("div",{staticClass:"pro_line"},[a("h3",{domProps:{textContent:t._s(this.categoryList[this.currentCate-1].cate_name)}}),t._v(" "),a("el-dropdown",{on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n            更多类别"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.categoryList,function(e,i){return a("el-dropdown-item",{key:i,attrs:{command:i+1}},[t._v(t._s(e.cate_name))])}),1)],1),t._v(" "),a("div",{staticClass:"goHome",on:{click:function(e){return e.preventDefault(),t.$router.push("/home")}}},[t._v("返回首页")])],1),t._v(" "),a("div",{staticClass:"pro_show"},t._l(t.recommendshoplist,function(t){return a("ProductItem",{key:t.goods_id,attrs:{pro:t}})}),1)])]),t._v(" "),a("div",{attrs:{id:"footer"}},[a("ul",{staticClass:"pagination"},[a("li",[a("div",{staticClass:"pag_back",on:{click:function(e){return t.getMore(t.activeIndex-1)}}},[t._v("«")])]),t._v(" "),a("li",t._l(t.catePages[this.currentCate-1],function(e){return a("div",{key:e,staticClass:"pag_a",class:{pag_active:t.activeIndex===e},on:{click:function(a){return t.getMore(e)}}},[t._v(t._s(e))])}),0),t._v(" "),a("li",[a("div",{staticClass:"pag_go",on:{click:function(e){return t.getMore(t.activeIndex+1)}}},[t._v("»")])])])])]):t._e()},staticRenderFns:[]};var c=a("VU/8")(o,n,!1,function(t){a("mp1e")},"data-v-fae215ba",null);e.default=c.exports},mp1e:function(t,e){}});
//# sourceMappingURL=8.c01d5604d4a71b13dc4d.js.map