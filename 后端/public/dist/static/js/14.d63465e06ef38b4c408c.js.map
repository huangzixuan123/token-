{"version":3,"sources":["webpack:///src/pages/Admin/Children/AdminSales.vue","webpack:///./src/pages/Admin/Children/AdminSales.vue?908f","webpack:///./src/pages/Admin/Children/AdminSales.vue"],"names":["AdminSales","components","search","components_search","pagination","Pagination","data","span","key","placeholder","type","orderList","order","curPage","pageSize","totalData","dialogVisible","activated","this","getOrders","methods","_this","params","page","limit","$refs","isSearch","assign_default","searchVal","text","Object","api","then","res","message","map","item","console","log","order_status_text","order_status","total","orderDetail","send","_this2","$confirm","confirmButtonText","cancelButtonText","order_id","success_code","$message","success","catch","restData","currentIndex","getAllGoods","paginationChange","getUsers","handleClose","done","Children_AdminSales","render","_vm","_h","$createElement","_c","_self","attrs","id","ref","on","searchData","_v","staticStyle","width","prop","label","fixed","align","scopedSlots","_u","fn","scope","size","click","$event","row","title","visible","before-close","update:visible","staticClass","_s","user_nickname","publisher","createTime","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.d63465e06ef38b4c408c.js","sourcesContent":["<template>\r\n  <div id=\"admin-sales\">\r\n    <!-- 筛选条件 -->\r\n    <search ref=\"search\" :search=\"search\" @restData=\"restData\" @searchData=\"getOrders\"/>\r\n    <el-table\r\n      :data=\"orderList\"\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n        prop=\"order_id\"\r\n        label=\"订单号\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"user_nickname\"\r\n        label=\"买方\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"publisher\"\r\n        label=\"卖方\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"createTime\"\r\n        label=\"生成时间\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        fixed=\"right\"\r\n        align=\"center\"\r\n        label=\"操作\"\r\n        width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" size=\"small\" @click=\"orderDetail(scope.row)\">详情</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!--分页-->\r\n    <pagination :page=\"curPage\" :limit=\"pageSize\" :total=\"totalData\" @pagination=\"paginationChange\"/>\r\n    <!-- 订单详情 -->\r\n    <el-dialog\r\n      title=\"订单详情\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"30%\"\r\n      :before-close=\"handleClose\">\r\n      <div class=\"item\">\r\n        <span>订单号</span>\r\n        <span>{{ order.order_id }}</span>\r\n      </div>\r\n      <div class=\"item\">\r\n        <span>买方</span>\r\n        <span>{{ order.user_nickname }}</span>\r\n      </div>\r\n      <div class=\"item\">\r\n        <span>卖方</span>\r\n        <span>{{ order.publisher }}</span>\r\n      </div>\r\n      <div class=\"item\">\r\n        <span>订单状态</span>\r\n        <span>{{ order.order_status_text }}</span>\r\n      </div>\r\n      <div class=\"item\">\r\n        <span>生成时间</span>\r\n        <span>{{ order.createTime }}</span>\r\n      </div>\r\n      <div class=\"item\"></div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import search from '@/components/search'\r\n  import pagination from '@/components/Pagination/index'\r\n  import { getOrders, changeOrder } from '../../../api/index'\r\n\r\n  export default {\r\n    components: {\r\n      search,\r\n      pagination\r\n    },\r\n    data() {\r\n      return {\r\n        search: [{\r\n          span: 6, key: 'order_id', placeholder: '请输入订单号', type: 'input'\r\n        }],\r\n        orderList: [],\r\n        order: {},\r\n        curPage: 1,\r\n        pageSize: 10,\r\n        totalData: 0,\r\n        dialogVisible: false\r\n      }\r\n    },\r\n    activated() {\r\n      this.getOrders() // 获取订单\r\n    },\r\n    methods: {\r\n      getOrders() {\r\n        this.orderList = []\r\n        let params = {\r\n          page: this.curPage,\r\n          limit: this.pageSize\r\n        }\r\n        // 判断是否点击了搜索\r\n        const search = this.$refs.search\r\n        const isSearch = search.isSearch\r\n        if (isSearch) {\r\n          params = Object.assign(params, search.searchVal)\r\n        }\r\n        const text = ['', '待发货', '待收货', '已完成', '申诉通过', '申诉不通过', '', '', '', '申诉中']\r\n        getOrders(params).then(res => {\r\n          res.message.map(item => {\r\n            console.log(item)\r\n            item.order_status_text = text[item.order_status]\r\n          })\r\n          this.orderList = res.message\r\n          this.totalData = res.total\r\n        })\r\n      },\r\n      orderDetail(item) { // 订单详情\r\n        this.dialogVisible = true\r\n        this.order = item\r\n      },\r\n      send(item) { // 发货\r\n        this.$confirm('确认发货吗', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          changeOrder({\r\n            order_id: item.order_id,\r\n            order_status: 2\r\n          }).then(res => {\r\n            if (res.success_code === 200) {\r\n              this.$message.success('发货成功')\r\n              this.getOrders()\r\n            }\r\n          })\r\n        }).catch(() => {         \r\n        })\r\n      },\r\n      restData() { // 重置搜索\r\n        this.currentIndex = 1\r\n        this.pageSize = 5\r\n        this.getAllGoods()\r\n      },\r\n      paginationChange(data) { // 分页改变\r\n        this.curPage = data.page\r\n        this.pageSize = data.limit\r\n        this.getUsers()\r\n      },\r\n      handleClose(done) {\r\n        done()\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n.item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.item span:first-child {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Admin/Children/AdminSales.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"admin-sales\"}},[_c('search',{ref:\"search\",attrs:{\"search\":_vm.search},on:{\"restData\":_vm.restData,\"searchData\":_vm.getOrders}}),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.orderList}},[_c('el-table-column',{attrs:{\"prop\":\"order_id\",\"label\":\"订单号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"user_nickname\",\"label\":\"买方\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"publisher\",\"label\":\"卖方\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"生成时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"align\":\"center\",\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.orderDetail(scope.row)}}},[_vm._v(\"详情\")])]}}])})],1),_vm._v(\" \"),_c('pagination',{attrs:{\"page\":_vm.curPage,\"limit\":_vm.pageSize,\"total\":_vm.totalData},on:{\"pagination\":_vm.paginationChange}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"订单详情\",\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"item\"},[_c('span',[_vm._v(\"订单号\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.order.order_id))])]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('span',[_vm._v(\"买方\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.order.user_nickname))])]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('span',[_vm._v(\"卖方\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.order.publisher))])]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('span',[_vm._v(\"订单状态\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.order.order_status_text))])]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('span',[_vm._v(\"生成时间\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.order.createTime))])]),_vm._v(\" \"),_c('div',{staticClass:\"item\"}),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a03768c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Admin/Children/AdminSales.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5a03768c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AdminSales.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AdminSales.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AdminSales.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5a03768c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AdminSales.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5a03768c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Admin/Children/AdminSales.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}