(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"0117":function(e,t,r){"use strict";var i=r("10e8"),a=r.n(i);a.a},"03e5":function(e,t,r){"use strict";var i=r("2a79"),a=r.n(i);a.a},"0447":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{float:"left"}},[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"上架商品计划",name:"first"}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.end}},[e._v("完成计划")]),r("el-table",{ref:"multipleTable",staticStyle:{"margin-top":"5px"},attrs:{data:e.list,size:"mini",border:""}},[r("el-table-column",{attrs:{prop:"productname",label:"商品名",align:"center"}}),r("el-table-column",{attrs:{prop:"SJSMbarcode",label:"条形码",align:"center"}}),r("el-table-column",{attrs:{prop:"SJSM",label:"数目",align:"center"}}),r("el-table-column",{attrs:{prop:"SJSMtime",label:"批次",align:"center",width:"100px",sortable:""}}),r("el-table-column",{attrs:{prop:"SJSMtime",label:"计划时间",align:"center",width:"100px",sortable:""}}),r("el-table-column",{attrs:{prop:"outnum",label:"出仓",align:"center",width:"70px",sortable:""}}),r("el-table-column",{attrs:{prop:"reinnum",label:"回仓",align:"center",width:"70px",sortable:""}})],1),r("el-switch",{staticStyle:{"margin-top":"15px"},attrs:{"inactive-color":"#13ce66","active-color":"#ff4949","inactive-text":"出仓","active-text":"回仓"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}}),r("div",[r("div",{staticStyle:{"margin-top":"15px"}},[r("span",{staticClass:"add-title"},[e._v("箱码:")]),r("el-input",{staticStyle:{width:"213px"},attrs:{placeholder:"请输入",clearable:""},on:{blur:e.blur},model:{value:e.boxcodeUrl,callback:function(t){e.boxcodeUrl=t},expression:"boxcodeUrl"}}),r("br"),r("div",{staticStyle:{"margin-top":"5px"}},[0==e.value1?r("span",{staticClass:"add-title"},[e._v("出仓指导数目:"+e._s(this.num))]):e._e(),1==e.value1?r("span",{staticClass:"add-title"},[e._v("回箱最大数目:"+e._s(this.maxre))]):e._e()]),r("br"),1==e.value1?r("div",{staticStyle:{"margin-top":"5px"}},[r("span",{staticClass:"add-title"},[e._v("数目:")]),r("el-input",{staticStyle:{width:"213px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.reinnum,callback:function(t){e.reinnum=t},expression:"reinnum"}})],1):e._e(),r("el-button",{staticStyle:{"margin-top":"5px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认")])],1)])],1),r("el-tab-pane",{attrs:{label:"上架货架计划",name:"second"}},[r("el-table",{ref:"multipleTable",attrs:{data:e.list2,size:"mini",border:""}},[r("el-table-column",{attrs:{prop:"SJHJshelf",label:" 货架",align:"center"}}),r("el-table-column",{attrs:{prop:"productname",label:"商品名",align:"center"}}),r("el-table-column",{attrs:{prop:"barcode",label:"条形码",align:"center"}}),r("el-table-column",{attrs:{prop:"SJHJtime",label:"计划时间",align:"center",width:"100px",sortable:""}})],1)],1)],1),r("div",{staticClass:"scan"},[!0===e.a?r("div",{attrs:{id:"bcid"}}):e._e(),r("footer",[r("div",[r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning"},on:{click:e.startRecognize}},[e._v("1.创建控件")]),r("el-button",{attrs:{type:"warning"},on:{click:e.closeScan}},[e._v("4.关闭控件")])],1)])])],1)},a=[],n=(r("a481"),r("28a5"),r("96cf"),r("1da1")),s=null,l={inject:["reload"],data:function(){return{value1:!1,list:[],list2:[],time:"",activeName:"first",a:!1,boxcodeUrl:"",num:"",maxre:"",reinnum:""}},created:function(){this.listGET(),this.listGET2()},methods:{blur:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==this.value1){e.next=5;break}return e.next=3,this.axios({path:"/user/SJSPJHseach3",method:"get",data:{boxcode:this.boxcodeUrl}});case 3:t=e.sent,0===t.length?(this.$notify({title:"错误箱号",type:"warning"}),this.maxre=""):this.maxre=t[0].specs-t[0].stock;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),end:function(){var e=this;swal({title:"确定结束计划吗？",text:"你将无法恢复计划状态！",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"确定结束！",cancelButtonText:"取消删除！",closeOnConfirm:!1,closeOnCancel:!1},(function(t){t?(e.endplan(),e.endSJSPSM(),e.allend(),swal("成功!","计划已经完成:)","success")):swal("取消！","你的计划是安全的:)","error")}))},endplan:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.list.length)){e.next=9;break}return e.next=4,this.axios({path:"/user/HJSPsearch3",method:"get",data:{HJSPbarcode:this.list[t].SJSMbarcode+""}});case 4:r=e.sent,0===r.length?(i=this.list[t].outnum-this.list[t].reinnum,this.axios({path:"/user/HJSPadd1",method:"POST",data:{HJSPbarcode:this.list[t].SJSMbarcode,HJSPnumber:i,inwarehousetime:this.list[t].SJSMintime}})):(i=r[0].HJSPnumber+this.list[t].outnum-this.list[t].reinnum,this.axios({path:"/user/HJSPedit1",method:"POST",data:{HJSPbarcode:this.list[t].SJSMbarcode,HJSPnumber:i}}));case 6:t++,e.next=1;break;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),endSJSPSM:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(this.axios({path:"/user/HJdelete2",method:"POST"}),this.axios({path:"/user/HJdelete3",method:"POST"}),t=0;t<=this.list2.length;t++)r=[],r=this.list2[t].SJHJshelf.split("货架"),this.axios({path:"/user/HJadd2",method:"POST",data:{HJname:r[0]+"",HJchildren:this.list2[t].SJHJshelf,HJbarcode:this.list2[t].SJbarcode}}).then((function(){})).catch((function(e){i.$message.error(e.message)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),allend:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.axios({path:"/user/SJSPJHedit3",method:"POST"}),this.axios({path:"/user/SJSPJHedit4",method:"POST"}).then((function(){t.reload(),t.boxcodeUrl=""}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),startRecognize:function(){this.a=!0;var e=this;function t(t,r,i){switch(t){case plus.barcode.QR:t="QR";break;case plus.barcode.EAN13:t="EAN13";break;case plus.barcode.EAN8:t="EAN8";break;default:t="其它"+t;break}r=r.replace(/\n/g,""),e.boxcodeUrl=r+"",e.submit(),e.closeScan(),swal({title:"等待加载...",imageUrl:"https://wpimg.wallstcn.com/0e03b7da-db9e-4819-ba10-9016ddfdaed3",timer:1e3,showConfirmButton:!1})}window.plus&&(s=new plus.barcode.Barcode("bcid"),s.onmarked=t,s.start())},startScan:function(){window.plus&&s.start()},cancelScan:function(){window.plus&&s.cancel()},closeScan:function(){this.a=!1,window.plus&&s.close()},submit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/SJSPJHseach3",method:"get",data:{boxcode:this.boxcodeUrl}});case 2:t=e.sent,0===t.length?this.$notify({title:"错误箱号",type:"warning"}):!1===this.value1?(t[0].specs>=t[0].stock?(r=t[0].stock+t[0].outnum+"",i=0,this.num=t[0].stock):(r=t[0].specs+t[0].outnum+"",i=t[0].stock-t[0].specs,this.num=t[0].specs),this.axios({path:"/user/SJSPJHedit1",method:"POST",data:{SJSMbarcode:t[0].SJSMbarcode,outnum:r}}),this.axios({path:"/user/CKedit1",method:"POST",data:{boxcode:this.boxcodeUrl,stock:i}}).then((function(){n.$notify({title:"成功出仓",type:"success"}),n.listGET(),n.boxcodeUrl=""})).catch((function(e){n.$message.error(e.message)}))):!0===this.value1&&(""===this.reinnum?this.$notify({title:"请填写完整",type:"warning"}):this.reinnum>this.maxre?sweetAlert("数目错误","你录入的数目不得超过回箱最大数","error"):(a=t[0].reinnum+parseInt(this.reinnum),this.axios({path:"/user/SJSPJHedit2",method:"POST",data:{SJSMbarcode:t[0].SJSMbarcode,reinnum:a}}),i=t[0].stock+parseInt(this.reinnum),this.axios({path:"/user/CKedit1",method:"POST",data:{boxcode:this.boxcodeUrl,stock:i}}).then((function(){n.$notify({title:"成功回仓",type:"success"}),n.listGET(),n.boxcodeUrl="",n.reinnum=""})).catch((function(e){n.$message.error(e.message)}))));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),listGET:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/SJSPJHseach1"});case 2:t=e.sent,this.list=t;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),listGET2:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/SJSPJHseach2"});case 2:t=e.sent,this.list2=t,this.time=list[2].SJHJtime;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},o=l,c=(r("0ab0"),r("9f86"),r("2877")),u=Object(c["a"])(o,i,a,!1,null,"b2a0f8ce",null);t["default"]=u.exports},"0ab0":function(e,t,r){"use strict";var i=r("5977"),a=r.n(i);a.a},"0be1":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-table",{ref:"multipleTable",attrs:{data:e.list,size:"mini",border:""}},[r("el-table-column",{attrs:{prop:"productname",label:"商品",align:"center"}}),r("el-table-column",{attrs:{prop:"barcode",label:"条形码",align:"center"}}),r("el-table-column",{attrs:{prop:"expirydate",label:"保质期(天)",align:"center"}}),r("el-table-column",{attrs:{prop:"duedateproportion",label:"临期设定(天)",align:"center"}}),r("el-table-column",{attrs:{prop:"CKstockwarning",label:"仓库预警货存",align:"center",sortable:""}}),r("el-table-column",{attrs:{prop:"HJstockwaring",label:"货架预警货存",align:"center",sortable:""}}),r("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(r){return e.edit(t.$index,t.row)}}})]}}])})],1),r("el-dialog",{attrs:{title:"编辑采购清单",visible:e.editCGQDVisible},on:{"update:visible":function(t){e.editCGQDVisible=t}}},[r("el-form",{ref:"editCGQDlist",attrs:{model:e.editCGQDlist,rules:e.rules,inline:!0,size:"mini"}},[r("el-form-item",{attrs:{label:"商品",prop:"productname"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:"",disabled:"false"},model:{value:e.editCGQDlist.productname,callback:function(t){e.$set(e.editCGQDlist,"productname",t)},expression:"editCGQDlist.productname"}},[""===e.editCGQDlist.productname?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"条形码",prop:"barcode"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:"",disabled:"false"},model:{value:e.editCGQDlist.barcode,callback:function(t){e.$set(e.editCGQDlist,"barcode",t)},expression:"editCGQDlist.barcode"}},[""===e.editCGQDlist.barcode?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"保质期(天)",prop:"expirydate"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:"",disabled:"false"},model:{value:e.editCGQDlist.expirydate,callback:function(t){e.$set(e.editCGQDlist,"expirydate",t)},expression:"editCGQDlist.expirydate"}},[""===e.editCGQDlist.expirydate?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"临期设定(天)",prop:"duedateproportion"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.editCGQDlist.duedateproportion,callback:function(t){e.$set(e.editCGQDlist,"duedateproportion",t)},expression:"editCGQDlist.duedateproportion"}},[""===e.editCGQDlist.duedateproportion?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"仓库预警货存",prop:"CKstockwarning"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.editCGQDlist.CKstockwarning,callback:function(t){e.$set(e.editCGQDlist,"CKstockwarning",t)},expression:"editCGQDlist.CKstockwarning"}},[""===e.editCGQDlist.CKstockwarning?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"货架预警货存",prop:"HJstockwaring"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.editCGQDlist.HJstockwaring,callback:function(t){e.$set(e.editCGQDlist,"HJstockwaring",t)},expression:"editCGQDlist.HJstockwaring"}},[""===e.editCGQDlist.HJstockwaring?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:e.clear1}},[e._v("清空")]),r("el-button",{attrs:{type:"danger"},on:{click:e.cancel1}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveedit}},[e._v("确 定")])],1)],1)],1)},a=[],n=(r("96cf"),r("1da1")),s={inject:["reload"],data:function(){return{list:[],editCGQDVisible:!1,editCGQDlist:{productname:"",barcode:"",expirydate:"",duedateproportion:"",CKstockwarning:"",HJstockwaring:""},rules:{productname:[{required:!0,message:"请输入",trigger:"blur"}],barcode:[{required:!0,message:"请输入",trigger:"blur"}],expirydate:[{required:!0,message:"请输入",trigger:"blur"}],duedateproportion:[{required:!0,message:"请输入",trigger:"blur"}],CKstockwarning:[{required:!0,message:"请输入",trigger:"blur"}],HJstockwaring:[{required:!0,message:"请输入",trigger:"blur"}]}}},created:function(){this.listGET()},methods:{edit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.editCGQDVisible=!0,this.editCGQDlist.productname=this.list[t].productname,this.editCGQDlist.barcode=this.list[t].barcode,this.editCGQDlist.expirydate=this.list[t].expirydate,this.editCGQDlist.duedateproportion=this.list[t].duedateproportion,this.editCGQDlist.CKstockwarning=this.list[t].CKstockwarning,this.editCGQDlist.HJstockwaring=this.list[t].HJstockwaring;case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),clear1:function(){this.editCGQDlist.duedateproportion="",this.editCGQDlist.CKstockwarning="",this.editCGQDlist.HJstockwaring=""},cancel1:function(){this.editCGQDVisible=!1,this.$refs["editCGQDlist"].resetFields()},saveedit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["editCGQDlist"].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:t.axios({path:"/user/WARNINGedit1",method:"POST",data:{WARNINGbarcode:t.editCGQDlist.barcode,CKstockwarning:t.editCGQDlist.CKstockwarning,duedateproportion:t.editCGQDlist.duedateproportion,HJstockwaring:t.editCGQDlist.HJstockwaring}}).then((function(){t.reload(),t.editCGQDVisible=!1,t.$notify({title:"修改成功！",type:"success"})})).catch((function(e){t.$message.error(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),listGET:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/WARNINGsearch1"});case 2:t=e.sent,this.list=t;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},l=s,o=(r("16f1"),r("2877")),c=Object(o["a"])(l,i,a,!1,null,null,null);t["default"]=c.exports},"10e8":function(e,t,r){},"16f1":function(e,t,r){"use strict";var i=r("d416"),a=r.n(i);a.a},1838:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addsubmit()}}},[e._v("添加")]),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.outExcel(e.sels)}}},[r("font-awesome-icon",{attrs:{icon:"file-excel"}}),e._v("\n\n        导出数据")],1),r("el-switch",{staticStyle:{"margin-left":"5px"},attrs:{"inactive-color":"#13ce66","active-color":"#ff4949","inactive-text":"采购清单","active-text":"制定采购计划",size:"mini"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}}),r("el-input",{staticClass:"input-with-select",staticStyle:{"max-width":"250px","margin-left":"5px",float:"right"},attrs:{placeholder:"请输入内容",size:"mini",clearable:""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[""===e.input?r("el-button",{attrs:{slot:"append",icon:"el-icon-refresh-right"},on:{click:function(t){return e.searchsubmit()}},slot:"append"}):r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.searchsubmit()}},slot:"append"}),""===e.input?r("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()],1),r("el-table",{ref:"multipleTable",staticStyle:{width:"100vw","margin-top":"5px"},attrs:{data:e.list,size:"mini","row-key":e.getRowKeyOfTarget},on:{"expand-change":e.expandchange,"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection","reserve-selection":!0}}),r("el-table-column",{attrs:{prop:"productname",label:"产品",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:null!==t.row.subList[0].suppliername?"primary":"danger"}},[e._v(e._s(t.row.productname))])]}}])}),r("el-table-column",{attrs:{prop:"barcode",label:"条形码"}}),r("el-table-column",{attrs:{prop:"producttype",label:"类别",filters:[{text:"暂无计划",value:"暂无计划"},{text:"无供应商",value:null},{text:"存在计划",value:e.NOWDATE},{text:"有供应商",value:"有供应商"}],"filter-method":e.filterTag}}),r("el-table-column",{attrs:{prop:"retailprice",label:"零售价"}}),r("el-table-column",{attrs:{prop:"specs",label:"包装系数"}}),r("el-table-column",{attrs:{prop:"expirydate",label:"保质期"}}),r("el-table-column",{attrs:{label:"状态",prop:"status",filters:[{text:"暂无计划",value:"暂无计划"},{text:"无供应商",value:null},{text:"存在计划",value:e.NOWDATE},{text:"有供应商",value:"有供应商"}],"filter-method":e.filterTag},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.subList[0].suppliername?r("el-tag",{attrs:{type:"warning","disable-transitions":""}},[e._v("无供应商")]):r("el-tag",{attrs:{type:"success","disable-transitions":""}},[e._v("有供应商")]),1==e.value1&&t.row.planinputtime===e.NOWDATE?r("el-tag",{attrs:{type:"info","disable-transitions":""}},[e._v("存在计划")]):1==e.value1?r("el-tag",{attrs:{type:"success","disable-transitions":""}},[e._v("暂无计划 ")]):e._e()]}}])}),1==e.value1?r("el-table-column",{attrs:{label:"数量(套)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.subList[0].suppliername?r("el-tag",{attrs:{type:"danger"}},[e._v("无可操作")]):t.row.planinputtime===e.NOWDATE?r("el-tag",{attrs:{type:"info","disable-transitions":""}},[e._v(e._s(t.row.number))]):r("el-input",{attrs:{size:"small",clearable:""},model:{value:t.row.number1,callback:function(r){e.$set(t.row,"number1",r)},expression:"scope.row.number1"}})]}}],null,!1,3163351836)}):e._e(),1==e.value1?r("el-table-column",{attrs:{label:"供应商",align:"center",prop:"subList"},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.subList[0].suppliername?r("el-tag",{attrs:{type:"danger"}},[e._v("无可操作")]):t.row.planinputtime===e.NOWDATE?r("el-tag",{attrs:{type:"info","disable-transitions":""}},[e._v(e._s(t.row.CGJHsuppliername))]):r("el-select",{attrs:{placeholder:"请选择",filterable:"","allow-create":""},model:{value:t.row.suppliername,callback:function(r){e.$set(t.row,"suppliername",r)},expression:"scope.row.suppliername"}},e._l(t.row.subList,(function(e,t){return r("el-option",{key:t,attrs:{value:e.suppliername}})})),1)]}}],null,!1,3583773262)}):e._e(),r("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==e.value1&&null===t.row.subList[0].suppliername&&t.row.planinputtime!==e.NOWDATE?[r("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定删除该产品的信息吗？"},on:{onConfirm:function(r){return e.deleteCGQD(t.row.id,t.$index)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini",circle:""},slot:"reference"})],1)]:0==e.value1?r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(r){return e.edit(t.$index,t.row)}}}):e._e(),1==e.value1&&t.row.planinputtime===e.NOWDATE&&null!==t.row.subList[0].suppliername?r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(r){return e.deleteCGJH(t.row.id,t.$index)}}}):1==e.value1&&null===t.row.subList[0].suppliername?r("el-tag",{attrs:{type:"danger"}},[e._v("无可操作")]):1==e.value1&&null!==t.row.subList[0].suppliername?r("el-button",{attrs:{type:"success",icon:"el-icon-plus",size:"mini",circle:""},on:{click:function(r){return e.addCGJH(t.$index,t.row)}}}):e._e()]}}])})],1),r("el-pagination",{attrs:{background:"",total:e.total,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,15,20,25,30],"page-size":e.pageSize,"page-count":e.pageNum},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),r("el-dialog",{attrs:{title:"编辑采购清单",visible:e.editCGQDVisible},on:{"update:visible":function(t){e.editCGQDVisible=t}}},[r("el-form",{ref:"editCGQDlist",attrs:{model:e.editCGQDlist,"label-width":"100px",rules:e.rules,inline:!0}},[r("el-form-item",{attrs:{label:"商品名称",prop:"productname"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.editCGQDlist.productname,callback:function(t){e.$set(e.editCGQDlist,"productname",t)},expression:"editCGQDlist.productname"}},[""===e.editCGQDlist.productname?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"条形码",prop:"barcode"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:"",disabled:"false"},model:{value:e.editCGQDlist.barcode,callback:function(t){e.$set(e.editCGQDlist,"barcode",t)},expression:"editCGQDlist.barcode"}},[""===e.editCGQDlist.barcode?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"类别",prop:"producttype"}},[r("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchproducttype,placeholder:"请输入内容",clearable:""},model:{value:e.editCGQDlist.producttype,callback:function(t){e.$set(e.editCGQDlist,"producttype",t)},expression:"editCGQDlist.producttype"}},[""===e.editCGQDlist.producttype?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"零售价",prop:"retailprice"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.editCGQDlist.retailprice,callback:function(t){e.$set(e.editCGQDlist,"retailprice",t)},expression:"editCGQDlist.retailprice"}},[""===e.editCGQDlist.retailprice?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"包装系数",prop:"specs"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.editCGQDlist.specs,callback:function(t){e.$set(e.editCGQDlist,"specs",t)},expression:"editCGQDlist.specs"}},[""===e.editCGQDlist.specs?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"保质期",prop:"expirydate"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.editCGQDlist.expirydate,callback:function(t){e.$set(e.editCGQDlist,"expirydate",t)},expression:"editCGQDlist.expirydate"}},[""===e.editCGQDlist.expirydate?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:e.clear1}},[e._v("清空")]),r("el-button",{attrs:{type:"danger"},on:{click:e.cancel1}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveedit}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"添加供应商产品",visible:e.addSupplierproduct},on:{"update:visible":function(t){e.addSupplierproduct=t}}},[r("el-form",{ref:"addSupplierProductForm",attrs:{model:e.addSupplierProductForm,rules:e.rules2,inline:!0}},[r("el-form-item",{attrs:{label:"商品名称",prop:"supplierproduct"}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addSupplierProductForm.supplierproduct,callback:function(t){e.$set(e.addSupplierProductForm,"supplierproduct",t)},expression:"addSupplierProductForm.supplierproduct"}},[""===e.addSupplierProductForm.supplierproduct?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"条形码",prop:"barcode"}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addSupplierProductForm.barcode,callback:function(t){e.$set(e.addSupplierProductForm,"barcode",t)},expression:"addSupplierProductForm.barcode"}},[""===e.addSupplierProductForm.barcode?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"品类",prop:"producttype"}},[r("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchproducttype,placeholder:"请输入内容",clearable:""},model:{value:e.addSupplierProductForm.producttype,callback:function(t){e.$set(e.addSupplierProductForm,"producttype",t)},expression:"addSupplierProductForm.producttype"}},[""===e.addSupplierProductForm.producttype?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"零售价",prop:"retailprice"}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addSupplierProductForm.retailprice,callback:function(t){e.$set(e.addSupplierProductForm,"retailprice",t)},expression:"addSupplierProductForm.retailprice"}},[""===e.addSupplierProductForm.retailprice?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"箱系数",prop:"specs"}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addSupplierProductForm.specs,callback:function(t){e.$set(e.addSupplierProductForm,"specs",t)},expression:"addSupplierProductForm.specs"}},[""===e.addSupplierProductForm.specs?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"保质期",prop:"expirydate"}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addSupplierProductForm.expirydate,callback:function(t){e.$set(e.addSupplierProductForm,"expirydate",t)},expression:"addSupplierProductForm.expirydate"}},[""===e.addSupplierProductForm.expirydate?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:e.clear2}},[e._v("清空")]),r("el-button",{attrs:{type:"danger"},on:{click:e.cancel2}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveaddSupplierproduct}},[e._v("确 定")])],1)],1)],1)},a=[],n=(r("759f"),r("28a5"),r("a481"),r("6d67"),r("57e7"),r("d25f"),r("ac6a"),r("f3e2"),r("96cf"),r("1da1")),s=(r("9ce8"),{inject:["reload"],data:function(){return{value1:!1,NOWDATE:this.dayjs().format("YYYY-MM-DD"),form:{productname:"",producttype:"",retailprice:"",barcode:"",specs:"",expirydate:""},editCGQDVisible:!1,editCGQDlist:{productname:"",producttype:"",retailprice:"",barcode:"",specs:"",expirydate:""},rules:{productname:[{required:!0,message:"请输入",trigger:"blur"}],producttype:[{required:!0,message:"请输入",trigger:"blur"}],retailprice:[{required:!0,message:"请输入",trigger:"blur"}],barcode:[{required:!0,message:"请输入",trigger:"blur"}],specs:[{required:!0,message:"请输入",trigger:"blur"}],expirydate:[{required:!0,message:"请输入",trigger:"blur"}]},addSupplierproduct:!1,addSupplierProductForm:{supplierproduct:"",producttype:"",retailprice:"",barcode:"",specs:"",expirydate:""},rules2:{supplierproduct:[{required:!0,message:"请输入",trigger:"blur"}],producttype:[{required:!0,message:"请输入",trigger:"blur"}],retailprice:[{required:!0,message:"请输入",trigger:"blur"}],barcode:[{required:!0,message:"请输入",trigger:"blur"}],specs:[{required:!0,message:"请输入",trigger:"blur"}],expirydate:[{required:!0,message:"请输入",trigger:"blur"}]},input:"",list:[],listTable:[],total:"",currentIndex:1,pageSize:10,tableData:[],sels:[],CGQDsearch8A:[],listTable2:[],listTableIndex:0}},created:function(){this.listGET()},computed:{pageNum:function(){return Math.ceil(this.tableData.length/this.pageSize)}},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/CGQDsearch8"});case 2:t=e.sent,this.CGQDsearch8A=t,this.CGQDsearch8A.forEach((function(e){r.$set(e,"value",e.producttype),delete e.producttype})),this.restaurants3=this.CGQDsearch8A;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{querySearchproducttype:function(e,t){var r=this.restaurants3,i=e?r.filter(this.createStateFilter(e)):r;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t(i)}),1e3*Math.random())},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},outExcel:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.sels.length){e.next=4;break}this.$notify({title:"请选择需要导出的数据",type:"warning"}),e.next=20;break;case 4:t=0;case 5:if(!(t<this.sels.length)){e.next=17;break}return i=this.sels.map((function(e){return e.barcode})).join(),i=i.replace(/,/g," "),i=i.split(" "),i=i[t],e.next=12,this.axios({path:"/user/CGQDsearch7",method:"get",data:{barcode:i}});case 12:a=e.sent,this.listTable=this.listTable.concat(a);case 14:t++,e.next=5;break;case 17:r.e("chunk-730d6ab1").then(function(){var e=r("3016"),t=e.export_json_to_excel,i=["商品名称","条形码","类别","零售价（元）","包装系数","保质期"],a=["productname","barcode","producttype","retailprice","specs","expirydate"],s=n.listTable,l=n.formatJson(a,s),o="供应清单";t(i,l,o)}.bind(null,r)).catch(r.oe),this.$notify({title:"成功导出",message:"请耐心等待",type:"success"}),this.$refs.multipleTable.clearSelection();case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),expandchange:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$message.error("选中状态发生变化时做出更改");case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleSelectionChange:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.sels=t;case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleCurrentChange:function(e){var t=this;this.currentIndex=e,this.list=[],this.tableData.forEach((function(e,r){r>=(t.currentIndex-1)*t.pageSize&&r<t.currentIndex*t.pageSize&&t.list.push(e)}))},handleSizeChange:function(e){var t=this;this.pageSize=e,this.list=[],this.tableData.forEach((function(e,r){r>=(t.currentIndex-1)*t.pageSize&&r<t.currentIndex*t.pageSize&&t.list.push(e)}))},list:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),listGET:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/CGQDsearch5",method:"get",data:{planinputtime:this.dayjs().format("YYYY-MM-DD")}});case 2:t=e.sent,r=[],t.forEach((function(e,t){var a=-1,n=r.some((function(t,r){if(e.productname==t.productname)return a=r,!0}));n?r[a].subList.push(e):r.push({productname:e.productname,producttype:e.producttype,retailprice:e.retailprice,barcode:e.barcode,specs:e.specs,expirydate:e.expirydate,planinputtime:e.planinputtime,number:e.number,CGJHsuppliername:e.CGJHsuppliername,subList:[e]}),i.tableData=r})),this.tableData.forEach((function(e,t){t>=(i.currentIndex-1)*i.pageSize&&t<i.currentIndex*i.pageSize&&(i.list.push(e),i.total=i.tableData.length)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),searchsubmit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.input){e.next=7;break}return e.next=3,this.axios({path:"/user/CGQDsearch6",method:"get",data:{productname:"%"+this.input+"%"}});case 3:t=e.sent,0==t.length?this.$notify({title:"查无数据",type:"warning"}):(this.$notify({title:"查询成功",type:"success"}),this.input="",r=[],t.forEach((function(e,t){var a=-1,n=r.some((function(t,r){if(e.productname==t.productname)return a=r,!0}));n?r[a].subList.push(e):r.push({productname:e.productname,producttype:e.producttype,retailprice:e.retailprice,barcode:e.barcode,specs:e.specs,expirydate:e.expirydate,planinputtime:e.planinputtime,number:e.number,CGJHsuppliername:e.CGJHsuppliername,subList:[e]}),i.list=r}))),e.next=8;break;case 7:this.reload();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),filterTag:function(e,t){return e===this.NOWDATE?t.planinputtime===e:null===e?t.subList[0].suppliername===e:"暂无计划"===e?t.planinputtime!==this.NOWDATE:"有供应商"===e?null!==t.subList[0].suppliername:void 0},cancel2:function(){this.addSupplierproduct=!1,this.$refs["addSupplierProductForm"].resetFields()},clear2:function(){this.$refs["addSupplierProductForm"].resetFields()},addsubmit:function(){this.addSupplierproduct=!0},saveaddSupplierproduct:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["addSupplierProductForm"].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:i=t.addSupplierProductForm,t.axios({path:"/user/CGQDadd1",method:"POST",data:{productname:i.supplierproduct,producttype:i.producttype,retailprice:i.retailprice,barcode:i.barcode,specs:i.specs,expirydate:i.expirydate}}).then((function(){t.reload(),t.addSupplierproduct=!1,t.$notify({title:"添加成功！",type:"success"})})).catch((function(e){t.$message.error(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),edit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.editCGQDVisible=!0,this.editCGQDlist.productname=this.list[t].productname,this.editCGQDlist.producttype=this.list[t].producttype,this.editCGQDlist.retailprice=this.list[t].retailprice,this.editCGQDlist.barcode=this.list[t].barcode,this.editCGQDlist.specs=this.list[t].specs,this.editCGQDlist.expirydate=this.list[t].expirydate;case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),clear1:function(){this.editCGQDlist.productname="",this.editCGQDlist.producttype="",this.editCGQDlist.retailprice="",this.editCGQDlist.specs="",this.editCGQDlist.expirydate=""},cancel1:function(){this.editCGQDVisible=!1,this.$refs["editCGQDlist"].resetFields()},saveedit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["editCGQDlist"].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:t.axios({path:"/user/CGQDedit1",method:"POST",data:{productname:t.editCGQDlist.productname,producttype:t.editCGQDlist.producttype,retailprice:t.editCGQDlist.retailprice,barcode:t.editCGQDlist.barcode,specs:t.editCGQDlist.specs,expirydate:t.editCGQDlist.expirydate}}).then((function(){t.reload(),t.editCGQDVisible=!1,t.$notify({title:"修改成功！",type:"success"})})).catch((function(e){t.$message.error(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addCGJH:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.axios({path:"/user/CGJHadd1",method:"POST",data:{number:this.list[t].number1,CGJHsuppliername:this.list[t].suppliername,planinputtime:this.NOWDATE,CGJHbarcode:this.list[t].barcode}}).then((function(){i.list=[],i.listGET(),i.value=!0,i.$notify({title:"成功添加！",type:"success"})})).catch((function(e){i.$message.error(e.message)}));case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),deleteCGQD:function(e,t){var r=this;this.axios({path:"/user/CGQDdelete1",method:"POST",data:{barcode:this.list[t].barcode}}).then((function(){r.reload(),r.$notify({title:"成功删除！",type:"success"})})).catch((function(e){r.$message.error(e.message)}))},deleteCGJH:function(e,t){var r=this;this.axios({path:"/user/CGJHdelete1",method:"POST",data:{CGJHbarcode:this.list[t].barcode,planinputtime:this.list[t].planinputtime+""}}).then((function(){r.$notify({title:"成功删除！",type:"success"})})).catch((function(e){r.$message.error(e.message)})),this.$set(this.list[t],"number",null),this.$set(this.list[t],"CGJHsuppliername",null),this.$set(this.list[t],"planinputtime",null)}}}),l=s,o=(r("bcb4"),r("2877")),c=Object(o["a"])(l,i,a,!1,null,"66fffc8a",null);t["default"]=c.exports},"1a50":function(e,t,r){},"1cbf":function(e,t,r){"use strict";var i=r("9fd5"),a=r.n(i);a.a},"202d":function(e,t,r){},"20f0":function(e,t,r){},2599:function(e,t,r){},2720:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.allbarcode}},[e._v("cs")]),r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-pie-chart"}),e._v(" schart图表 ")])],1)],1),r("div",{staticClass:"schart-box"},[r("schart",{staticClass:"schart",attrs:{canvasId:"bar",options:e.options1}})],1),r("div",{staticClass:"schart-box"},[r("schart",{staticClass:"schart",attrs:{canvasId:"line",options:e.options2}})],1),r("div",{staticClass:"schart-box"},[r("schart",{staticClass:"schart",attrs:{canvasId:"pie",options:e.options3}})],1),r("div",{staticClass:"schart-box"},[r("schart",{staticClass:"schart",attrs:{canvasId:"a",options:e.options4}})],1)],1)},a=[],n=(r("96cf"),r("1da1")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("canvas",{attrs:{id:e.canvasId}})])},l=[],o=(r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("d25f"),r("ac6a"),r("456d"),r("ade3")),c=r("b367"),u=r.n(c);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={props:{canvasId:{type:String,default:"",required:!0},options:{type:Object,required:!0}},mounted:function(){this.renderChart()},methods:{renderChart:function(){if(this.checkOptions()){var e=d({},this.options);new u.a(this.canvasId,e)}},checkOptions:function(){var e=this.options;return!(!e.datasets||!e.datasets.length)&&!(!e.labels||!e.labels.length)}},watch:{options:{handler:function(e,t){this.renderChart()},deep:!0}}},m=h,f=r("2877"),b=Object(f["a"])(m,s,l,!1,null,null,null),g=b.exports,v={components:{Schart:g},data:function(){return{list:[],use:[],options1:{type:"bar",title:{text:"最近一周各品类销售图"},bgColor:"#fbfbfb",labels:["周一","周二","周三","周四","周五"],datasets:[{label:"家电",fillColor:"rgba(241, 49, 74, 0.5)",data:[234,278,270,190,230]},{label:"百货",data:[164,178,190,135,160]},{label:"食品",data:[144,198,150,235,120]}]},options2:{type:"line",title:{text:"最近几个月各品类销售趋势图"},legend:{position:"top"},bgColor:"#fbfbfb",labels:[],datasets:[{label:"",data:[]}]},options3:{type:"pie",title:{text:"货架商品占比(单位：个)"},legend:{position:"right"},bgColor:"#fbfbfb",labels:[],datasets:[{data:[]}]},options4:{type:"pie",legend:{position:"right"},title:{text:"仓库商品占比(单位：箱)"},bgColor:"#fbfbfb",labels:[],datasets:[{data:[]}]}}},created:function(){this.listGET(),this.allbarcode(),this.listGET2(),this.listGET3()},methods:{listGET:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/TBsearch1",method:"get"});case 2:for(r in t=e.sent,this.list=[],this.options2.labels=[],t)this.options2.labels.push(t[r].month),this.list.push(t[r].SUMprice);this.use=this.options2.labels,this.options2.datasets=[{label:"环比",data:this.list}];case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),allbarcode:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/JSsearch1",method:"get"});case 2:t=e.sent,r=0;case 4:if(!(r<t.length)){e.next=15;break}return e.next=7,this.axios({path:"/user/TBsearch2",method:"get",data:{JSbarcode:t[r].JSbarcode}});case 7:for(i=e.sent,this.list=[],a=0,n=0;n<this.use.length;n++)if(this.use[n]==i[a].month){for(s in i)this.list.push(i[s].SUMprice);a=a++}else this.list.push(0);this.options2.datasets=this.options2.datasets.concat({label:i[0].productname+"("+i[0].JSbarcode+")",data:this.list});case 12:r++,e.next=4;break;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),listGET2:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/TBsearch3",method:"get"});case 2:for(r in t=e.sent,this.list=[],this.options3.labels=[],t)this.options3.labels.push(t[r].productname+"("+t[r].HJSPbarcode+")"),this.list.push(t[r].HJSPnumber);this.options3.datasets=[{data:this.list}];case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),listGET3:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/TBsearch4",method:"get"});case 2:for(r in t=e.sent,this.list=[],this.options4.labels=[],t)this.options4.labels.push(t[r].productname+"("+t[r].CKbarcode+")"),this.list.push(t[r].COUNT);this.options4.datasets=[{data:this.list}];case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},x=v,w=(r("fe12"),Object(f["a"])(x,i,a,!1,null,"4e05ad66",null));t["default"]=w.exports},"286f":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"add-title"},[e._v("修改账号信息")]),r("div",{staticClass:"change-box"},[r("el-form",{ref:"form",attrs:{model:e.change,"label-width":"80px","label-position":"center",rules:e.rules}},[r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{attrs:{placeholder:"用户名"},model:{value:e.change.name,callback:function(t){e.$set(e.change,"name",t)},expression:"change.name"}},[r("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-people"},slot:"prepend"})],1)],1),r("el-form-item",{attrs:{prop:"pwd"}},[r("el-input",{attrs:{placeholder:"密码",type:"password"},model:{value:e.change.pwd,callback:function(t){e.$set(e.change,"pwd",t)},expression:"change.pwd"}},[r("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-lock"},slot:"prepend"})],1)],1)],1),r("Album",{ref:"album",attrs:{title:"修改头像(一张)",count:1}}),r("el-button",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{type:"danger",round:""},on:{click:e.submit}},[e._v("确认修改")])],1)])},a=[],n=(r("7f7f"),r("96cf"),r("1da1")),s=r("9ce8"),l={data:function(){return{change:{name:"",pwd:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"}]},user:{name:"",pwd:"",img:""}}},methods:{submit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["form"].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var i,a,n,s,l,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,i=/^[\u4e00-\u9fa5_a-zA-Z0-9]{1,6}$/,a=/^[a-zA-Z0-9]{6,12}$/,i.test(t.change.name)){e.next=7;break}return e.abrupt("return",t.$message.error("用户名不能大于6位数"));case 7:if(a.test(t.change.pwd)){e.next=9;break}return e.abrupt("return",t.$message.error("密码只能是6-12位的数字或字母！"));case 9:return n=t.$refs.album.parent(),s=n.child,n.isEmpty,l=n.stop,e.next=15,s();case 15:return o=e.sent,c=t.change.img,0!==o.length&&(c=o[0]),l(),e.next=21,t.axios({path:"/user/changeUser",method:"POST",data:{name:t.change.name,pwd:t.change.pwd,img:c,id:t.change.id}});case 21:t.$message.success("修改成功！"),window.sessionStorage.removeItem("user"),t.$router.push("login"),e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](2),t.$message.error("修改失败！");case 29:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=JSON.parse(window.sessionStorage.getItem("user"));this.change=e},components:{Album:s["a"]}},o=l,c=(r("cfd0"),r("2877")),u=Object(c["a"])(o,i,a,!1,null,"e6342a98",null);t["default"]=u.exports},"29e6":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("el-input",{staticStyle:{"max-width":"250px"},attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[""===e.input?r("el-button",{attrs:{slot:"append",icon:"el-icon-refresh-right"},on:{click:function(t){return e.searchsubmit()}},slot:"append"}):r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.searchsubmit()}},slot:"append"}),""===e.input?r("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()],1),r("el-switch",{staticStyle:{"margin-left":"15px"},attrs:{"inactive-color":"#13ce66","active-color":"#ff4949","inactive-text":"详细表单","active-text":"简约表单"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}}),r("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("临期")]),r("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("余货不足")])],1),r("div",{staticStyle:{"margin-top":"5px"}},[1==e.value1?r("el-table",{ref:"multipleTable",attrs:{data:e.list,"summary-method":e.getSummaries,"show-summary":"",size:"mini"}},[r("el-table-column",{attrs:{prop:"productname",label:"商品名称","min-width":"110",fixed:""}}),r("el-table-column",{attrs:{prop:"CKbarcode",label:"条形码","min-width":"100"}}),r("el-table-column",{attrs:{prop:"specs",label:"包装系数","min-width":"110"}}),r("el-table-column",{attrs:{prop:"sum",label:"总数","min-width":"110",sortable:"",filters:[{text:"余货不足",value:"余货不足"}],"filter-method":e.filterTag},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.sum)+"\n                    "),t.row.sum<t.row.CKstockwarning?r("el-badge",{attrs:{value:"余货不足",type:"warning"}}):e._e()]}}],null,!1,4013017391)})],1):r("el-row",{staticClass:"el-row",attrs:{gutter:20,size:"mini"}},e._l(e.list,(function(t,i){return r("section",{key:i,staticClass:"posts-expand"},[r("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:40}},[r("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"5px"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",{staticStyle:{"margin-right":"20px"}},[e._v(" 商品："+e._s(t.productname)+" ")]),r("span",[e._v(" 条码："+e._s(t.CKbarcode)+" ")]),r("br"),r("span",{staticStyle:{"margin-right":"20px"}},[e._v(" 包装系数："+e._s(t.specs)+" ")]),r("span",[e._v("\n                                总数："+e._s(t.sum)+"\n                                "),t.sum<t.CKstockwarning?r("el-badge",{attrs:{value:"余货不足",type:"warning"}}):e._e()],1)]),r("el-table",{ref:"multipleTable",refInFor:!0,attrs:{data:t.subList,"summary-method":e.getSummaries,"show-summary":""}},[r("el-table-column",{attrs:{prop:"intime",label:"入仓时间","min-width":"110",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                    "+e._s(t.row.intime)+"\n                                    "),e.NOWDATE>t.row.Duedate?r("el-badge",{attrs:{value:"临期"}}):e._e(),e.NOWDATE<t.row.Duedate?r("el-badge",{attrs:{value:"正常",type:"success"}}):e._e()]}}],null,!0)}),r("el-table-column",{attrs:{prop:"Duedate",label:"预计临期","min-width":"110"}}),r("el-table-column",{attrs:{prop:"boxcode",label:"箱码","min-width":"110"}}),r("el-table-column",{attrs:{prop:"stock",label:"余量","min-width":"110",sortable:""}})],1)],1)],1)],1)})),0)],1)])},a=[],n=(r("0cd8"),r("2caf"),r("c5f6"),r("6d67"),r("759f"),r("ac6a"),r("f3e2"),r("96cf"),r("1da1")),s=(r("78ce"),{inject:["reload"],data:function(){return{NOWDATE:this.dayjs().format("YYYY-MM-DD"),input:"",value1:!1,radio:"",pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},value2:"",list:[],ITEMS:[]}},created:function(){this.listGET()},watch:{radio:function(e){this.radio=e;var t=this.radio;1==t&&this.duetime(),2==t&&this.unsum()}},methods:{unsum:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/CKsearch4"});case 2:t=e.sent,r=[],t.forEach((function(e,t){i.$set(e,"Duedate",i.dayjs(e.intime).add(e.duedateproportion,"day").format("YYYY-MM-DD"));var a=-1,n=r.some((function(t,r){if(e.CKbarcode==t.CKbarcode)return a=r,!0}));n?r[a].subList.push(e):r.push({CKbarcode:e.CKbarcode,productname:e.productname,specs:e.specs,sum:e.sum,CKstockwarning:e.CKstockwarning,Duedate:e.Duedate,subList:[e]}),i.list=r}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),duetime:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/CKsearch3"});case 2:t=e.sent,r=[],t.forEach((function(e,t){i.$set(e,"Duedate",i.dayjs(e.intime).add(e.duedateproportion,"day").format("YYYY-MM-DD"));var a=-1,n=r.some((function(t,r){if(e.CKbarcode==t.CKbarcode)return a=r,!0}));n?r[a].subList.push(e):r.push({CKbarcode:e.CKbarcode,productname:e.productname,specs:e.specs,sum:e.sum,CKstockwarning:e.CKstockwarning,Duedate:e.Duedate,subList:[e]}),i.list=r}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),filterTag:function(e,t){if("余货不足"===e)return t.sum<t.CKstockwarning},searchsubmit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.input){e.next=7;break}return e.next=3,this.axios({path:"/user/CKsearch2",method:"get",data:{productname:"%"+this.input+"%"}});case 3:t=e.sent,0==t.length?this.$notify({title:"查无数据",type:"warning"}):(this.$notify({title:"查询成功",type:"success"}),this.input="",r=[],t.forEach((function(e,t){var a=-1,n=r.some((function(t,r){if(e.CKbarcode==t.CKbarcode)return a=r,!0}));n?r[a].subList.push(e):r.push({CKbarcode:e.CKbarcode,productname:e.productname,specs:e.specs,sum:e.sum,CKstockwarning:e.CKstockwarning,subList:[e]}),i.list=r}))),e.next=8;break;case 7:this.reload();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getSummaries:function(e){if(!1===this.value1){var t=e.columns,r=e.data,i=[];return t.forEach((function(e,a){if(0===a)i[a]="总库存";else if(a===t.length-1){var n=r.map((function(t){return Number(t[e.property])}));n.every((function(e){return isNaN(e)}))?i[a]="":(i[a]=n.reduce((function(e,t){var r=Number(t);return isNaN(r)?e:e+t}),0),i[a]+="")}else i[a]=""})),i}},listGET:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/CKsearch1"});case 2:t=e.sent,r=[],t.forEach((function(e,t){i.$set(e,"Duedate",i.dayjs(e.intime).add(e.duedateproportion,"day").format("YYYY-MM-DD"));var a=-1,n=r.some((function(t,r){if(e.CKbarcode==t.CKbarcode)return a=r,!0}));n?r[a].subList.push(e):r.push({CKbarcode:e.CKbarcode,productname:e.productname,specs:e.specs,sum:e.sum,CKstockwarning:e.CKstockwarning,subList:[e]}),i.list=r}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),l=s,o=(r("9cc8"),r("2877")),c=Object(o["a"])(l,i,a,!1,null,"2503ac22",null);t["default"]=c.exports},"2a79":function(e,t,r){},"2b9e":function(e,t,r){"use strict";var i=r("9d9f"),a=r.n(i);a.a},"2e3a":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"采购计划列表",name:"first"}},[r("div",{staticClass:"block"},[r("span",{staticClass:"demonstration",staticStyle:{"font-size":"13px","margin-right":"5px"}},[e._v("日期")]),r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",align:"right",type:"date",placeholder:"选择日期","picker-options":e.pickerOptions,size:"mini"},on:{change:e.changeTime},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),e._l(e.list2,(function(t,i){return r("section",{key:i,attrs:{size:"mini"}},[r("div",[r("i",{staticClass:"el-icon-date",staticStyle:{"margin-right":"5px"},attrs:{slot:"suffix"},slot:"suffix"}),r("span",{staticClass:"demonstration",staticStyle:{"font-size":"13px","margin-right":"5px"}},[e._v(e._s(t.planinputtime))]),[r("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",title:"确定删除该产品的计划吗？"},on:{onConfirm:function(r){return e.DeleTimePlan(t)}}},[r("el-button",{staticClass:"red",attrs:{slot:"reference",type:"text",icon:"el-icon-delete",circle:""},slot:"reference"})],1)]],2),r("el-table",{ref:"multipleTable",refInFor:!0,staticClass:"table",attrs:{data:t.subList,border:"","header-cell-class-name":"table-header",size:"mini"}},[r("el-table-column",{attrs:{fixed:"",prop:"productname",label:"产品名",align:"center"}}),r("el-table-column",{attrs:{prop:"CGJHbarcode",label:"条形码",align:"center"}}),r("el-table-column",{attrs:{prop:"specs",label:"包装系数",align:"center"}}),r("el-table-column",{attrs:{prop:"producttype",label:"种类",align:"center"}}),r("el-table-column",{attrs:{prop:"retailprice",label:"零售价（元）",align:"center"}}),r("el-table-column",{attrs:{prop:"CGJHsuppliername",label:"供应商",align:"center"}}),r("el-table-column",{attrs:{fixed:"right",label:"数量(套/总)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(t.row.number+"/"+t.row.number*t.row.specs)+"\n                        ")]}}],null,!0)}),r("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[[r("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定删除该产品的计划吗？"},on:{onConfirm:function(r){return e.handleplanproduct(t.row.id,t.$index)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini",circle:""},slot:"reference"})],1)]]}}],null,!0)})],1)],1)}))],2),r("el-tab-pane",{attrs:{label:"入仓操作",name:"second"}},[r("div",{staticStyle:{height:"100%"}},[r("div",{staticClass:"add-title"},[e._v("加 入 仓 库")]),r("div",{staticClass:"add-input-box"},[r("el-form",{ref:"form",attrs:{model:e.list,"label-width":"80px","label-position":"left",rules:e.rules,"status-icon":!0}},[r("el-form-item",{attrs:{label:"条形码",prop:"codeUrl"}},[r("el-input",{staticStyle:{width:"213px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.list.codeUrl,callback:function(t){e.$set(e.list,"codeUrl",t)},expression:"list.codeUrl"}})],1),r("el-form-item",{attrs:{label:"箱码",prop:"boxcodeUrl"}},[r("el-input",{staticStyle:{width:"213px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.list.boxcodeUrl,callback:function(t){e.$set(e.list,"boxcodeUrl",t)},expression:"list.boxcodeUrl"}})],1)],1)],1),r("el-button",{staticClass:"add-submit",attrs:{type:"primary",round:""},on:{click:e.submit}},[e._v("确认添加")])],1)])],1),r("div",{staticClass:"scan"},[!0===e.a?r("div",{attrs:{id:"bcid"}}):e._e(),r("footer",["second"==this.activeName?r("el-button",{attrs:{type:"warning"},on:{click:e.startRecognize}},[e._v("1.创建控件")]):e._e(),"second"==this.activeName?r("el-button",{attrs:{type:"warning"},on:{click:e.closeScan}},[e._v("4.关闭控件")]):e._e()],1)])],1)},a=[],n=(r("a481"),r("759f"),r("ac6a"),r("f3e2"),r("96cf"),r("1da1")),s=(r("78ce"),null),l={data:function(){return{pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},value2:"",activeName:"first",list2:[],ITEMS:[],classList:[],list:{codeUrl:"",boxcodeUrl:""},rules:{codeUrl:[{required:!0,message:"请输入",trigger:"blur"}],boxcodeUrl:[{required:!0,message:"请输入",trigger:"blur"}]},a:!1,NOWDATE:this.dayjs().format("YYYY-MM-DD")}},created:function(){this.listGET(),this.studentGET()},methods:{listGET:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/CGJHsearch1"});case 2:t=e.sent,r=[],t.forEach((function(e,t){var a=-1,n=r.some((function(t,r){if(e.planinputtime==t.planinputtime)return a=r,!0}));n?r[a].subList.push(e):r.push({planinputtime:e.planinputtime,id:e.id,subList:[e]}),i.list2=r}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleplanproduct:function(e,t){var r=this;this.axios({path:"/user/CGJHdelete2",method:"POST",data:{id:e}}).then((function(){r.listGET(),r.$notify({title:"成功删除！",type:"success"})})).catch((function(e){r.$message.error(e.message)}))},DeleTimePlan:function(e){var t=this,r=e.planinputtime+"";this.axios({path:"/user/CGJHdelete3",method:"POST",data:{planinputtime:r}}).then((function(){t.listGET(),t.$notify({title:"成功删除！",type:"success"})})).catch((function(e){t.$message.error(e.message)}))},changeTime:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/CGJHsearch2",method:"get",data:{planinputtime:this.value2+""}});case 2:t=e.sent,0===t.length?(this.$notify({title:"警告",message:"查无数据",type:"warning"}),this.listGET()):(r=[],t.forEach((function(e,t){var a=-1,n=r.some((function(t,r){if(e.planinputtime==t.planinputtime)return a=r,!0}));n?r[a].subList.push(e):r.push({planinputtime:e.planinputtime,subList:[e]}),i.list=r})),this.$notify({title:"查询成功！",type:"success"}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),studentGET:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/planlist2"});case 2:t=e.sent,this.classList=t;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),startRecognize:function(){this.a=!0;var e=this;function t(t,r,i){switch(t){case plus.barcode.QR:t="QR";break;case plus.barcode.EAN13:t="EAN13";break;case plus.barcode.EAN8:t="EAN8";break;default:t="其它"+t;break}r=r.replace(/\n/g,""),r=r.replace(/\n/g,""),""===e.list.codeUrl?(e.list.codeUrl=r,e.list.boxcodeUrl="",alert(r),s.start()):(e.list.boxcodeUrl=r,e.submit(),e.closeScan())}window.plus&&(s=new plus.barcode.Barcode("bcid"),s.onmarked=t,s.start())},startScan:function(){window.plus&&s.start()},cancelScan:function(){window.plus&&s.cancel()},closeScan:function(){this.a=!1,window.plus&&s.close()},submit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["form"].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return i=t.list,e.next=5,t.axios({path:"/user/CGJHsearch3",method:"get",data:{barcode:i.codeUrl+""}});case 5:a=e.sent,t.$message.error(a[0].specs+""),t.axios({path:"/user/CKadd1",method:"POST",data:{stock:a[0].specs+"",CKbarcode:i.codeUrl+"",boxcode:i.boxcodeUrl+"",intime:t.NOWDATE}}).then((function(){t.$message.success("成功进仓"),t.$refs["form"].resetFields()})).catch((function(e){t.$message.error(e.message)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},o=l,c=(r("536d"),r("1cbf"),r("2877")),u=Object(c["a"])(o,i,a,!1,null,"64cc17ce",null);t["default"]=u.exports},3275:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.showTags?r("div",{staticClass:"tags"},[r("ul",e._l(e.tagsList,(function(t,i){return r("li",{key:i,staticClass:"tags-li",class:{active:e.isActive(t.path)}},[r("router-link",{staticClass:"tags-li-title",attrs:{to:t.path}},[e._v("\n                "+e._s(t.title)+"\n            ")]),r("span",{staticClass:"tags-li-icon",on:{click:function(t){return e.closeTags(i)}}},[r("i",{staticClass:"el-icon-close"})])],1)})),0),r("div",{staticClass:"tags-close-box"},[r("el-dropdown",{on:{command:e.handleTags}},[r("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("\n                标签选项"),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown",size:"small"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"other"}},[e._v("关闭其他")]),r("el-dropdown-item",{attrs:{command:"all"}},[e._v("关闭所有")])],1)],1)],1)]):e._e()},a=[],n=(r("7f7f"),r("759f"),r("d25f"),r("7ed4")),s={data:function(){return{tagsList:[]}},methods:{isActive:function(e){return e===this.$route.fullPath},closeTags:function(e){var t=this.tagsList.splice(e,1)[0],r=this.tagsList[e]?this.tagsList[e]:this.tagsList[e-1];r?t.path===this.$route.fullPath&&this.$router.push(r.path):this.$router.push("/")},closeAll:function(){this.tagsList=[],this.$router.push("/")},closeOther:function(){var e=this,t=this.tagsList.filter((function(t){return t.path===e.$route.fullPath}));this.tagsList=t},setTags:function(e){var t=this.tagsList.some((function(t){return t.path===e.fullPath}));t||(this.tagsList.length>=8&&this.tagsList.shift(),this.tagsList.push({title:e.meta.title,path:e.fullPath,name:e.matched[1].components.default.name})),n["a"].$emit("tags",this.tagsList)},handleTags:function(e){"other"===e?this.closeOther():this.closeAll()}},computed:{showTags:function(){return this.tagsList.length>0}},watch:{$route:function(e,t){this.setTags(e)}},created:function(){var e=this;this.setTags(this.$route),n["a"].$on("close_current_tags",(function(){for(var t=0,r=e.tagsList.length;t<r;t++){var i=e.tagsList[t];if(i.path===e.$route.fullPath){t<r-1?e.$router.push(e.tagsList[t+1].path):t>0?e.$router.push(e.tagsList[t-1].path):e.$router.push("/"),e.tagsList.splice(t,1);break}}}))}},l=s,o=(r("c5f3"),r("2877")),c=Object(o["a"])(l,i,a,!1,null,null,null);t["a"]=c.exports},"327d":function(e,t,r){"use strict";var i=r("202d"),a=r.n(i);a.a},"37f9":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"index-title"},[e._v("欢迎进入仓库货架管理系统")]),r("footer",[r("div",{staticClass:"footer-inner"},[r("font-awesome-icon",{attrs:{icon:["fas","copyright"]}}),r("span",[e._v("2020.11.01 - "+e._s(e.getFullYear)+"."+e._s(e.getMonth)+"."+e._s(e.getDate))]),e._v("\n            |\n            "),r("font-awesome-icon",{attrs:{icon:["fas","heart"]}}),r("span",[e._v("黄梓轩")])],1)])])},a=[],n=(r("28a5"),r("a481"),r("96cf"),r("1da1")),s={data:function(){return{getFullYear:"",getMonth:"",getDate:"",backgroundImage:r("c2ab"),msg:"headerBar",emptyGif:"https://wpimg.wallstcn.com/0e03b7da-db9e-4819-ba10-9016ddfdaed3"}},mounted:function(){this.getFullYear=(new Date).getFullYear(),this.getMonth=(new Date).getMonth()+1,this.getDate=(new Date).getDate()},methods:{fileBtn:function(){window.location.href="http://47.112.182.67:3003/user/code"},fileBtn3:function(){this.$message.success(window.sessionStorage.getItem("listview")+"")},fileBtn2:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=r("30dc"),i="wx726f1d93af637d05",a="01b843e403456b727940579f29e05f2f",this.code=window.location.href+"",this.code=this.code.replace(/=/g," "),this.code=this.code.replace(/&/g," "),this.code=this.code.split(" "),n=this.code[1],this.$message.success(this.code[1]+""),t.get({url:"https://api.weixin.qq.com/sns/oauth2/access_token?appid="+i+"&secret="+a+"&code="+n+"&grant_type=authorization_code"},(function(e,r,i){var a=JSON.parse(i),n=a.access_token,s=a.openid;t.get({url:"https://api.weixin.qq.com/sns/userinfo?access_token="+n+"&openid="+s+"&lang=zh_CN"},(function(e,t,r){var i=JSON.parse(r);console.log(i),window.sessionStorage.setItem("listview",i.nickname)}))})),this.$message.success(nickname+"");case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},l=s,o=(r("03e5"),r("2877")),c=Object(o["a"])(l,i,a,!1,null,"1cd2e17c",null);t["default"]=c.exports},"4ac0":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-wrap"},[r("div",{staticClass:"ms-login"},[r("div",{staticClass:"ms-title"},[e._v("注册用户")]),r("el-form",{ref:"login",staticClass:"ms-content",attrs:{model:e.param,rules:e.rules,"label-width":"0px"}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"用户名"},model:{value:e.param.username,callback:function(t){e.$set(e.param,"username",t)},expression:"param.username"}},[r("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-people"},slot:"prepend"})],1)],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm()}},model:{value:e.param.password,callback:function(t){e.$set(e.param,"password",t)},expression:"param.password"}},[r("el-button",{attrs:{slot:"prepend",icon:"el-icon-lx-lock"},slot:"prepend"})],1)],1),r("div",{staticClass:"login-btn"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("注册")]),r("router-link",{attrs:{to:"login"}},[r("el-button",{staticClass:"reg-but",attrs:{type:"info"}},[e._v("登录")])],1)],1)],1)],1)])},a=[],n=(r("96cf"),r("1da1")),s={data:function(){return{param:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submitForm:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.login.validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var i,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=16;break}if(i=/^[a-zA-Z0-9]{6,12}$/,a=/^[\u4e00-\u9fa5_a-zA-Z0-9]{1,6}$/,a.test(t.param.username)){e.next=5;break}return e.abrupt("return",t.$message.error("用户名不能大于6位数"));case 5:if(i.test(t.param.password)){e.next=7;break}return e.abrupt("return",t.$message.error("密码只能是6-12位的数字或字母！"));case 7:return e.next=9,t.axios({path:"/user/reg",method:"POST",data:{name:t.param.username,pwd:t.param.password,img:"avatar.jpg"}});case 9:if(n=e.sent,0!==n.check){e.next=12;break}return e.abrupt("return",t.$message.error("该用户名已被注册！"));case 12:t.$message.success("注册成功！"),t.$router.push("/login"),e.next=19;break;case 16:return t.$message.error("请输入用户名和密码"),console.log("error submit!!"),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},l=s,o=(r("5f53"),r("2877")),c=Object(o["a"])(l,i,a,!1,null,"2826fd1e",null);t["default"]=c.exports},"536d":function(e,t,r){"use strict";var i=r("ee90"),a=r.n(i);a.a},5382:function(e,t,r){},5977:function(e,t,r){},"5ebe":function(e,t,r){},"5f53":function(e,t,r){"use strict";var i=r("20f0"),a=r.n(i);a.a},"6a1e":function(e,t,r){},"6d33":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{float:"left"}},[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"销售平台",name:"first"}},[r("el-table",{ref:"multipleTable",staticStyle:{"margin-top":"5px"},attrs:{data:e.list,size:"mini",border:"","summary-method":e.getSummaries,"show-summary":""}},[r("el-table-column",{attrs:{label:"操作",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(r){return e.deleteJH(t.$index,t.row)}}})]}}])}),r("el-table-column",{attrs:{prop:"productname",label:"商品名"}}),r("el-table-column",{attrs:{prop:"barcode",label:"条形码"}}),r("el-table-column",{attrs:{label:"数目",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input-number",{attrs:{min:1,label:"1"},on:{change:function(r){return e.handleChange(t.$index,t.row)}},model:{value:t.row.num,callback:function(r){e.$set(t.row,"num",r)},expression:"scope.row.num"}})]}}])}),r("el-table-column",{attrs:{prop:"value",label:"价格",width:"50"}})],1),r("el-button",{staticStyle:{"margin-top":"5px"},attrs:{type:"primary",size:"mini"},on:{click:e.end}},[e._v("结算订单")]),r("div",[r("div",{staticStyle:{"margin-top":"5px"}},[r("span",{staticClass:"add-title"},[e._v("条形码:")]),r("el-input",{staticStyle:{width:"213px"},attrs:{placeholder:"请输入",clearable:""},on:{blur:e.blur},model:{value:e.borcodeUrl,callback:function(t){e.borcodeUrl=t},expression:"borcodeUrl"}}),r("el-button",{staticStyle:{"margin-top":"5px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认")])],1)])],1)],1),r("div",{staticClass:"scan"},[!0===e.a?r("div",{attrs:{id:"bcid"}}):e._e(),r("footer",[r("div",[r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning"},on:{click:e.startRecognize}},[e._v("1.创建控件")]),r("el-button",{attrs:{type:"warning"},on:{click:e.closeScan}},[e._v("4.关闭控件")])],1)])])],1)},a=[],n=(r("a481"),r("96cf"),r("1da1")),s=(r("0cd8"),r("2caf"),r("c5f6"),r("6d67"),r("ac6a"),r("f3e2"),null),l={inject:["reload"],data:function(){return{num:1,borcodeUrl:"",NOWDATE:this.dayjs().format("YYYY-MM-DD"),value1:!1,list:[],text:[],time:"",activeName:"first",a:!1,maxre:"",reinnum:""}},created:function(){},methods:{getSummaries:function(e){if(!1===this.value1){var t=e.columns,r=e.data,i=[];return t.forEach((function(e,a){if(0===a)i[a]="总库存";else if(a===t.length-1){var n=r.map((function(t){return Number(t[e.property])}));n.every((function(e){return isNaN(e)}))?i[a]="":(i[a]=n.reduce((function(e,t){var r=Number(t);return isNaN(r)?e:e+t}),0),i[a]+="")}else i[a]=""})),i}},end:function(){for(var e=0;e<this.list.length;e++)this.axios({path:"/user/JSadd1",method:"POST",data:{JSbarcode:this.list[e].barcode,JSnumber:this.list[e].num,price:this.list[e].value,JStime:this.NOWDATE}}),this.axios({path:"/user/HJSPedit2",method:"POST",data:{HJSPbarcode:"%"+this.list[e].barcode+"%",HJSPnumber:this.list[e].num}});this.$notify({title:"结算成功！",type:"success"}),this.reload()},deleteJH:function(e,t){this.list.splice(e,1),this.text.splice(e,1)},submit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/HJSPsearch2",method:"get",data:{HJSPbarcode:this.borcodeUrl}});case 2:t=e.sent,this.list=this.list.concat(t),this.text=this.text.concat(t),this.borcodeUrl="",this.text.forEach((function(e){r.$set(e,"value",e.retailprice),r.$set(e,"num",1)}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleChange:function(e,t){this.$set(this.list[e],"value",t.num*this.text[e].retailprice)},startRecognize:function(){this.a=!0;var e=this;function t(t,r,i){switch(t){case plus.barcode.QR:t="QR";break;case plus.barcode.EAN13:t="EAN13";break;case plus.barcode.EAN8:t="EAN8";break;default:t="其它"+t;break}r=r.replace(/\n/g,""),e.borcodeUrl=r+"",e.submit(),e.closeScan(),swal({title:"等待加载...",imageUrl:"https://wpimg.wallstcn.com/0e03b7da-db9e-4819-ba10-9016ddfdaed3",timer:1e3,showConfirmButton:!1})}window.plus&&(s=new plus.barcode.Barcode("bcid"),s.onmarked=t,s.start())},startScan:function(){window.plus&&s.start()},cancelScan:function(){window.plus&&s.cancel()},closeScan:function(){this.a=!1,window.plus&&s.close()}}},o=l,c=(r("cc8c"),r("f599"),r("2877")),u=Object(c["a"])(o,i,a,!1,null,"25ba057b",null);t["default"]=u.exports},"7ed4":function(e,t,r){"use strict";var i=r("2b0e"),a=new i["default"];t["a"]=a},"85e6":function(e,t,r){},"89a5":function(e,t,r){},"8cdb":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"error-page"},[e._m(0),r("div",{staticClass:"error-desc"},[e._v("啊哦~ 你所访问的页面不存在")]),r("div",{staticClass:"error-handle"},[r("router-link",{attrs:{to:"/"}},[r("el-button",{attrs:{type:"primary",size:"large"}},[e._v("返回首页")])],1)],1)])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"error-code"},[e._v("4"),r("span",[e._v("0")]),e._v("4")])}],n={methods:{goBack:function(){this.$router.go(-1)}}},s=n,l=(r("b98c"),r("2877")),o=Object(l["a"])(s,i,a,!1,null,"376ef6d4",null);t["default"]=o.exports},9321:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticStyle:{"margin-top":"-5px"}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addsubmit()}}},[e._v("添加")]),r("el-input",{staticClass:"input-with-select",staticStyle:{"max-width":"330px",float:"right"},attrs:{placeholder:"请输入内容",size:"mini",clearable:""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[""===e.input?r("el-button",{attrs:{slot:"append",icon:"el-icon-refresh-right"},on:{click:function(t){return e.searchsubmit()}},slot:"append"}):r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.searchsubmit()}},slot:"append"}),""===e.input?r("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",staticStyle:{width:"100vw","margin-top":"5px"},attrs:{data:e.list,border:"","row-key":e.getRowKeyOfTarget,"span-method":e.objectSpanMethod,"cell-style":{padding:"0px"},height:"window.getComputedStyle(this.$refs.table).height",size:"mini"},on:{"expand-change":e.expandchange}},[r("el-table-column",{attrs:{fixed:"",prop:"suppliername",label:"供应商名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("联系人: "+e._s(t.row.phonename))]),r("p",[e._v("联系方式: "+e._s(t.row.phonenumber))]),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.suppliername))])],1)])]}}])}),r("el-table-column",{attrs:{prop:"phonenumber",label:"联系方式",align:"center"}}),r("el-table-column",{attrs:{prop:"phonename",label:"联系人",align:"center"}}),r("el-table-column",{attrs:{label:"供应商信息操作",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus-outline",size:"mini",circle:""},on:{click:function(r){return e.SupplierProducthandleadd(t.$index,t.row)}}}),r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(r){return e.SupplierhandleEdit(t.$index,t.row)}}}),r("el-button",{attrs:{type:"text"}},[r("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定删除该供应商所有信息吗？"},on:{onConfirm:function(r){return e.handleDelete(t.row.id,t.$index)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini",circle:""},slot:"reference"})],1)],1)]}}])}),r("el-table-column",{attrs:{label:"供应商商品详情信息",align:"center"}},[r("el-table-column",{attrs:{prop:"productname",label:"商品名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.productname?r("span",{staticStyle:{color:"blue"}},[e._v("待添加")]):r("span",[e._v(e._s(t.row.productname))])]}}])}),r("el-table-column",{attrs:{prop:"productbarcode",label:"条形码",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["待添加"===t.row.productbarcode?r("span",{staticStyle:{color:"blue"}},[e._v("待添加")]):r("span",[e._v(e._s(t.row.productbarcode))])]}}])}),r("el-table-column",{attrs:{prop:"specs",label:"包装系数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.specs?r("span",{staticStyle:{color:"blue"}},[e._v("待添加")]):r("span",[e._v(e._s(t.row.specs))])]}}])}),r("el-table-column",{attrs:{prop:"producttype",label:"商品种类",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.producttype?r("span",{staticStyle:{color:"blue"}},[e._v("待添加")]):r("span",[e._v(e._s(t.row.producttype))])]}}])}),r("el-table-column",{attrs:{prop:"expirydate",label:"保质期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.expirydate?r("span",{staticStyle:{color:"blue"}},[e._v("待添加")]):r("span",[e._v(e._s(t.row.expirydate))])]}}])}),r("el-table-column",{attrs:{prop:"retailprice",label:"零售价（元）",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.retailprice?r("span",{staticStyle:{color:"blue"}},[e._v("待添加")]):r("span",[e._v(e._s(t.row.retailprice))])]}}])}),r("el-table-column",{attrs:{label:"所属产品操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"}},[r("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定删除该供应商产品的信息吗？"},on:{onConfirm:function(r){return e.handleDeleteproduct(t.row.id,t.$index)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini",circle:""},slot:"reference"})],1)],1)]}}])})],1)],1),r("el-dialog",{attrs:{title:"添加供应商资料",visible:e.addVisible,width:"400px"},on:{"update:visible":function(t){e.addVisible=t}}},[r("el-form",{ref:"form",attrs:{model:e.addlist,"label-width":"100px",rules:e.rules}},[r("el-form-item",{attrs:{label:"供应商名称",prop:"suppliername"}},[r("el-input",{staticStyle:{width:"214px"},attrs:{placeholder:"输入要添加的供应商名称",clearable:""},model:{value:e.addlist.suppliername,callback:function(t){e.$set(e.addlist,"suppliername",t)},expression:"addlist.suppliername"}},[""===e.addlist.suppliername?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"联系方式",prop:"phonenumber"}},[r("el-input",{staticStyle:{width:"214px"},attrs:{placeholder:"输入要添加的联系方式",clearable:""},model:{value:e.addlist.phonenumber,callback:function(t){e.$set(e.addlist,"phonenumber",t)},expression:"addlist.phonenumber"}},[""===e.addlist.phonenumber?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"联系人",prop:"phonename"}},[r("el-input",{staticStyle:{width:"214px"},attrs:{placeholder:"输入要添加的联系人",clearable:""},model:{value:e.addlist.phonename,callback:function(t){e.$set(e.addlist,"phonename",t)},expression:"addlist.phonename"}},[""===e.addlist.phonename?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:e.clear1}},[e._v("清空")]),r("el-button",{attrs:{type:"danger"},on:{click:e.cancel1}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveadd}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"添加供应商产品",visible:e.addSupplierproduct},on:{"update:visible":function(t){e.addSupplierproduct=t}}},[r("el-form",{ref:"addSupplierProductForm",attrs:{model:e.addSupplierProductForm,rules:e.rules2,inline:!0}},[r("el-form-item",{attrs:{label:"供应商",prop:"suppliername"}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:"",disabled:"false"},model:{value:e.addSupplierProductForm.suppliername,callback:function(t){e.$set(e.addSupplierProductForm,"suppliername",t)},expression:"addSupplierProductForm.suppliername"}},[""===e.addSupplierProductForm.producttype?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"商品名称",prop:"supplierproduct"}},[r("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchsupplierproduct,placeholder:"请输入内容",clearable:""},on:{select:e.handleSelectsupplierproduct},model:{value:e.addSupplierProductForm.supplierproduct,callback:function(t){e.$set(e.addSupplierProductForm,"supplierproduct",t)},expression:"addSupplierProductForm.supplierproduct"}},[""===e.addSupplierProductForm.supplierproduct?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"条形码",prop:"barcode"}},[r("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchbarcode,placeholder:"请输入内容",clearable:""},on:{select:e.handleSelectbarcode},model:{value:e.addSupplierProductForm.barcode,callback:function(t){e.$set(e.addSupplierProductForm,"barcode",t)},expression:"addSupplierProductForm.barcode"}},[""===e.addSupplierProductForm.barcode?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"品类",prop:"producttype"}},[r("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchproducttype,placeholder:"请输入内容",clearable:""},model:{value:e.addSupplierProductForm.producttype,callback:function(t){e.$set(e.addSupplierProductForm,"producttype",t)},expression:"addSupplierProductForm.producttype"}},[""===e.addSupplierProductForm.producttype?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"零售价",prop:"retailprice"}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addSupplierProductForm.retailprice,callback:function(t){e.$set(e.addSupplierProductForm,"retailprice",t)},expression:"addSupplierProductForm.retailprice"}},[""===e.addSupplierProductForm.retailprice?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"箱系数",prop:"specs"}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addSupplierProductForm.specs,callback:function(t){e.$set(e.addSupplierProductForm,"specs",t)},expression:"addSupplierProductForm.specs"}},[""===e.addSupplierProductForm.specs?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"保质期",prop:"expirydate"}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addSupplierProductForm.expirydate,callback:function(t){e.$set(e.addSupplierProductForm,"expirydate",t)},expression:"addSupplierProductForm.expirydate"}},[""===e.addSupplierProductForm.expirydate?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:e.clear2}},[e._v("清空")]),r("el-button",{attrs:{type:"danger"},on:{click:e.cancel2}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveaddSupplierproduct}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"编辑供应商资料",visible:e.EditSupplierVisible,width:"400px"},on:{"update:visible":function(t){e.EditSupplierVisible=t}}},[r("el-form",{ref:"EditSupplierForm",attrs:{model:e.EditSupplierForm,"label-width":"100px",rules:e.rules}},[r("el-form-item",{attrs:{label:"供应商名称",prop:"suppliername"}},[r("el-input",{staticStyle:{width:"214px"},attrs:{placeholder:"输入要修改的供应商名称",clearable:""},model:{value:e.EditSupplierForm.suppliername,callback:function(t){e.$set(e.EditSupplierForm,"suppliername",t)},expression:"EditSupplierForm.suppliername"}},[""===e.EditSupplierForm.suppliername?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"联系方式",prop:"phonenumber"}},[r("el-input",{staticStyle:{width:"214px"},attrs:{placeholder:"输入要修改的联系方式",clearable:""},model:{value:e.EditSupplierForm.phonenumber,callback:function(t){e.$set(e.EditSupplierForm,"phonenumber",t)},expression:"EditSupplierForm.phonenumber"}},[""===e.EditSupplierForm.phonenumber?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"联系人",prop:"phonename"}},[r("el-input",{staticStyle:{width:"214px"},attrs:{placeholder:"输入要修改的联系人",clearable:""},model:{value:e.EditSupplierForm.phonename,callback:function(t){e.$set(e.EditSupplierForm,"phonename",t)},expression:"EditSupplierForm.phonename"}},[""===e.EditSupplierForm.phonename?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:e.clear3}},[e._v("返回值")]),r("el-button",{attrs:{type:"danger"},on:{click:e.cancel3}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.SaveEditSupplier}},[e._v("确 定")])],1)],1)],1)},a=[],n=(r("6d67"),r("34ef"),r("57e7"),r("d25f"),r("ac6a"),r("f3e2"),r("96cf"),r("1da1")),s=r("3275"),l={components:{Tags:s["a"]},inject:["reload"],data:function(){return{restaurants:[],state:"",timeout:null,CGQDsearch1A:[],CGQDsearch3A:[],CGQDsearch8A:[],addVisible:!1,loading:!1,input:"",addSupplierproduct:!1,EditSupplierVisible:!1,form:{suppliername:"",phonenumber:"",phonename:""},addSupplierProductForm:{supplierproduct:"",producttype:"",retailprice:"",barcode:"",specs:"",expirydate:""},EditSupplierForm:{suppliername:"",phonenumber:"",phonename:""},rules:{suppliername:[{required:!0,message:"请输入",trigger:"blur"}],phonenumber:[{required:!0,message:"请输入",trigger:"blur"}],phonename:[{required:!0,message:"请输入",trigger:"blur"}]},rules2:{supplierproduct:[{required:!0,message:"请输入",trigger:"blur"}],producttype:[{required:!0,message:"请输入",trigger:"blur"}],retailprice:[{required:!0,message:"请输入",trigger:"blur"}],barcode:[{required:!0,message:"请输入",trigger:"blur"}],specs:[{required:!0,message:"请输入",trigger:"blur"}],expirydate:[{required:!0,message:"请输入",trigger:"blur"}]},addlist:{suppliername:"",phonenumber:"",phonename:""},spanList:[],number:0,tableList:[],tableList2:[],list:[],sels:[],editproduct:[],ExcelTable:[],i:0,keywords:"",items:[],items1:[],items2:[],items3:[],supplierproduct:"",a:0,total:"",currentIndex:1,pageSize:5,tableData:[],id:0,EditSupplierProductForm:{supplierproduct:"",producttype:"",retailprice:""},classList:[]}},created:function(){this.listGET(),this.CGQDsearch1()},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/CGQDsearch1"});case 2:return t=e.sent,this.CGQDsearch1A=t,this.CGQDsearch1A.forEach((function(e){a.$set(e,"value",e.productname),delete e.productname})),this.restaurants1=this.CGQDsearch1A,e.next=8,this.axios({path:"/user/CGQDsearch3"});case 8:return r=e.sent,this.CGQDsearch3A=r,this.CGQDsearch3A.forEach((function(e){a.$set(e,"value",e.barcode),delete e.barcode})),this.restaurants2=this.CGQDsearch3A,e.next=14,this.axios({path:"/user/CGQDsearch8"});case 14:i=e.sent,this.CGQDsearch8A=i,this.CGQDsearch8A.forEach((function(e){a.$set(e,"value",e.producttype),delete e.producttype})),this.restaurants3=this.CGQDsearch8A;case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{searchsubmit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.input){e.next=7;break}return e.next=3,this.axios({path:"/user/GYSsearch3",method:"get",data:{suppliername:"%"+this.input+"%"}});case 3:t=e.sent,0==t.length?this.$notify({title:"查无数据",type:"warning"}):(this.list=t,this.$notify({title:"查询成功",type:"success"}),this.input=""),e.next=8;break;case 7:this.reload();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clear3:function(){this.$refs["EditSupplierForm"].resetFields()},cancel3:function(){this.EditSupplierVisible=!1,this.$refs["EditSupplierForm"].resetFields()},SupplierhandleEdit:function(e){this.EditSupplierForm.suppliername=this.list[e].suppliername,this.EditSupplierForm.phonenumber=this.list[e].phonenumber,this.EditSupplierForm.phonename=this.list[e].phonename,this.EditSupplierVisible=!0,this.suppliername=this.list[e].suppliername},SaveEditSupplier:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/GYSsearch2",method:"get",data:{suppliername:this.suppliername}});case 2:for(t=e.sent,r=function(e){a.$refs["EditSupplierForm"].validate(function(){var r=Object(n["a"])(regeneratorRuntime.mark((function r(i){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i){r.next=2;break}return r.abrupt("return");case 2:a.axios({path:"/user/GYSedit1",method:"POST",data:{suppliername:a.EditSupplierForm.suppliername,phonenumber:a.EditSupplierForm.phonenumber,phonename:a.EditSupplierForm.phonename,id:t[e].id}}).then((function(){0==e&&(a.listGET(),a.EditSupplierVisible=!1,a.$notify({title:"修改成功！",type:"success"}))})).catch((function(e){a.$message.error(e.message)}));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())},i=0;i<t.length;i++)r(i);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleDelete:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.axios({path:"/user/GYSdelete2",method:"POST",data:{suppliername:this.list[r].suppliername}}).then((function(){i.listGET(),i.$notify({title:"成功删除！",type:"success"})})).catch((function(e){i.$message.error(e.message)}));case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),handleDeleteproduct:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.axios({path:"/user/GYSdelete1",method:"POST",data:{suppliername:this.list[r].suppliername,productbarcode:this.list[r].productbarcode}}).then((function(){i.listGET(),i.$notify({title:"成功删除！",type:"success"})})).catch((function(e){i.$message.error(e.message)}));case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),cancel2:function(){this.addSupplierproduct=!1,this.$refs["addSupplierProductForm"].resetFields()},clear2:function(){this.$refs["addSupplierProductForm"].resetFields()},SupplierProducthandleadd:function(e){this.addSupplierProductForm.suppliername=this.list[e].suppliername,this.addSupplierProductForm.phonenumber=this.list[e].phonenumber,this.addSupplierProductForm.phonename=this.list[e].phonename,this.addSupplierproduct=!0},saveaddSupplierproduct:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.a,this.$refs["addSupplierProductForm"].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:i=t.addSupplierProductForm,t.axios({path:"/user/CGQDadd1",method:"POST",data:{productname:i.supplierproduct,producttype:i.producttype,retailprice:i.retailprice,barcode:i.barcode,specs:i.specs,expirydate:i.expirydate}}),t.axios({path:"/user/GYSdelete1",method:"POST",data:{suppliername:i.suppliername,productbarcode:"待添加"}}),t.axios({path:"/user/supplieradd1",method:"POST",data:{suppliername:t.addSupplierProductForm.suppliername,phonenumber:t.addSupplierProductForm.phonenumber,phonename:t.addSupplierProductForm.phonename,productbarcode:i.barcode}}).then((function(){t.$refs["addSupplierProductForm"].resetFields(),t.addSupplierproduct=!1,t.listGET(),t.$notify({title:"成功添加！",type:"success"})})).catch((function(e){t.$message.error(e.message)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),querySearchsupplierproduct:function(e,t){var r=this.restaurants1,i=e?r.filter(this.createStateFilter(e)):r;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t(i)}),1e3*Math.random())},querySearchbarcode:function(e,t){var r=this.restaurants2,i=e?r.filter(this.createStateFilter(e)):r;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t(i)}),1e3*Math.random())},querySearchproducttype:function(e,t){var r=this.restaurants3,i=e?r.filter(this.createStateFilter(e)):r;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t(i)}),1e3*Math.random())},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelectsupplierproduct:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.axios({path:"/user/CGQDsearch2",method:"get",data:{productname:t.value}});case 3:r=e.sent,this.addSupplierProductForm.barcode=r[0].barcode,this.addSupplierProductForm.producttype=r[0].producttype,this.addSupplierProductForm.retailprice=r[0].retailprice,this.addSupplierProductForm.specs=r[0].specs,this.addSupplierProductForm.expirydate=r[0].expirydate;case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleSelectbarcode:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.axios({path:"/user/CGQDsearch4",method:"get",data:{barcode:t.value}});case 3:r=e.sent,this.addSupplierProductForm.supplierproduct=r[0].productname,this.addSupplierProductForm.producttype=r[0].producttype,this.addSupplierProductForm.retailprice=r[0].retailprice,this.addSupplierProductForm.specs=r[0].specs,this.addSupplierProductForm.expirydate=r[0].expirydate;case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),listGET:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.list=[],e.next=3,this.axios({path:"/user/suppliersearch1"});case 3:t=e.sent,this.list=t,r=this.list[0].suppliername,i=this.number,a=[],n=this.list,n.forEach((function(e,t){if(e.suppliername===r)i+=1;else{a.push(i),r=e.suppliername;while(i>1)a.push(0),i-=1}if(t===n.length-1){a.push(i),r=e.suppliername;while(i>1)a.push(0),i-=1}})),this.spanList=a;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,r=e.columnIndex;if(1===r||0===r||2===r||3===r)return 0===this.spanList[t]?{rowspan:0,colspan:0}:{rowspan:this.spanList[t],colspan:1}},clear1:function(){this.$refs["form"].resetFields()},addsubmit:function(){this.addVisible=!0},cancel1:function(){this.addVisible=!1,this.$refs["form"].resetFields()},saveadd:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["form"].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return i=t.addlist,e.next=5,t.axios({path:"/user/GYSsearch2",method:"get",data:{suppliername:i.suppliername}});case 5:a=e.sent,0==a.length?t.axios({path:"/user/supplieradd1",method:"POST",data:{suppliername:i.suppliername,phonenumber:i.phonenumber,phonename:i.phonename,productbarcode:"待添加"}}).then((function(){t.$refs["form"].resetFields(),t.addVisible=!1,t.listGET(),t.$notify({title:"成功添加！",type:"success"})})).catch((function(e){t.$message.error(e.message)})):t.$notify({title:"已经有该供应商！",type:"warning"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),importf:function(e){var t=this;this.$refs.inputer;this.file=event.currentTarget.files[0];var i=!1,a=this.file,n=new FileReader;FileReader.prototype.readAsBinaryString=function(e){var i,a,n="",s=!1,l=new FileReader;l.onload=function(e){for(var o=new Uint8Array(l.result),c=o.byteLength,u=0;u<c;u++)n+=String.fromCharCode(o[u]);var p=r("1146");i=s?p.read(btoa(fixdata(n)),{type:"base64"}):p.read(n,{type:"binary"}),a=p.utils.sheet_to_json(i.Sheets[i.SheetNames[0]]);var d=[];a.map((function(e){var t={};t.suppliername=e.供应商名称,t.phonenumber=e.联系方式,t.phonename=e.联系人,t.supplierproduct=e.商品名称,t.producttype=e.商品种类,t.retailprice=e.零售价,d.push(t)})),t.ExcelTable=d},l.readAsArrayBuffer(e)},i?n.readAsArrayBuffer(a):n.readAsBinaryString(a)},fileBtn:function(){var e=this;this.list=[];for(var t=this.ExcelTable.length,r=function(r){e.axios({path:"/user/addsupplier",method:"POST",data:{suppliername:e.ExcelTable[r].suppliername,phonenumber:e.ExcelTable[r].phonenumber,phonename:e.ExcelTable[r].phonename,supplierproduct:e.ExcelTable[r].supplierproduct,producttype:e.ExcelTable[r].producttype,retailprice:e.ExcelTable[r].retailprice}}).then((function(){r==t-1&&(e.listGET(),e.addVisible=!1,e.$message.success("添加成功"),e.ExcelTable=[])})).catch((function(t){e.$message.error(t.message)}))},i=0;i<=t;i++)r(i)},outTab:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i,a,n,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/supplierlist"});case 2:t=e.sent,i=0;case 4:if(!(i<t.length)){e.next=14;break}return a=t[i].suppliername,e.next=8,this.axios({path:"/user/searchsupplier",method:"get",data:{suppliername:a}});case 8:n=e.sent,this.list=this.list.concat(n),n=0;case 11:i++,e.next=4;break;case 14:this.tableData=this.list,r.e("chunk-730d6ab1").then(function(){var e=r("3016"),t=e.export_json_to_excel,i=["序号","供应商名称","联系方式","联系人","商品名称","商品种类","零售价（元）"],a=["id","suppliername","phonenumber","phonename","supplierproduct","producttype","retailprice"],n=s.tableData,l=s.formatJson(a,n),o="供应商列表";t(i,l,o)}.bind(null,r)).catch(r.oe);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))}}},o=l,c=(r("e1a2"),r("2877")),u=Object(c["a"])(o,i,a,!1,null,"6f83dfe8",null);t["default"]=u.exports},"9cc8":function(e,t,r){"use strict";var i=r("1a50"),a=r.n(i);a.a},"9ce8":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"album-box"},[r("div",[e._v(e._s(e.title))]),r("div",[r("el-upload",{ref:"album",attrs:{action:"https","list-type":"picture-card","on-preview":e.handlePictureCardPreview,multiple:!0,"on-remove":e.handleRemove,drag:"","http-request":e.submitEvent,"auto-upload":!1,limit:e.count}},[r("i",{staticClass:"el-icon-plus"})]),r("el-dialog",{attrs:{visible:e.dialogVisible,size:"tiny"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:"预览"}})])],1)])},a=[],n=(r("c5f6"),{props:{value:{type:Object,default:function(){}},title:{type:String,default:"上传图片"},count:{type:Number,default:0}},data:function(){return{dialogImageUrl:"",dialogVisible:!1,formData:"",isEmpty:!1}},methods:{parent:function(){var e=this;this.$refs.album.submit(),this.formData.append("value",this.value);var t=function(){return e.axios({path:"/user/img",data:e.formData,method:"POST"})},r=this.isEmpty;return this.isEmpty=!1,{child:t,isEmpty:r,stop:function(){e.formData=new FormData,e.$refs.album.clearFiles()}}},submitEvent:function(e){this.isEmpty=!0,this.formData.append("file",e.file)},handleRemove:function(e,t){},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0}},created:function(){this.formData=new FormData}}),s=n,l=(r("2b9e"),r("2877")),o=Object(l["a"])(s,i,a,!1,null,null,null);t["a"]=o.exports},"9d9f":function(e,t,r){},"9f86":function(e,t,r){"use strict";var i=r("85e6"),a=r.n(i);a.a},"9fd5":function(e,t,r){},a296:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addsubmit()}}},[e._v("添加")]),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.cs()}}},[e._v("cs")]),r("el-table",{ref:"multipleTable",attrs:{data:e.list,size:"mini",border:""}},[r("el-table-column",{attrs:{prop:"name",label:"账户",align:"center"}}),r("el-table-column",{attrs:{prop:"pwd",label:"密码",align:"center"}}),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center"}}),r("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(r){return e.edit(t.$index,t.row)}}}),"SupperAdmin"!==t.row.role?r("el-button",{attrs:{type:"text"}},[r("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定删除信息吗？"},on:{onConfirm:function(r){return e.handleDelete(t.row.id,t.$index)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini",circle:""},slot:"reference"})],1)],1):e._e()]}}])})],1),r("el-dialog",{attrs:{title:"编辑账户",visible:e.editCGQDVisible},on:{"update:visible":function(t){e.editCGQDVisible=t}}},[r("el-form",{ref:"editCGQDlist",attrs:{model:e.editCGQDlist,rules:e.rules,inline:!0}},[r("el-form-item",{attrs:{label:"账户",prop:"name"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.editCGQDlist.name,callback:function(t){e.$set(e.editCGQDlist,"name",t)},expression:"editCGQDlist.name"}},[""===e.editCGQDlist.name?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.editCGQDlist.pwd,callback:function(t){e.$set(e.editCGQDlist,"pwd",t)},expression:"editCGQDlist.pwd"}},[""===e.editCGQDlist.pwd?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),"SupperAdmin"!==this.value?r("el-form-item",{attrs:{label:"角色",prop:"role"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1):e._e()],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:e.clear1}},[e._v("清空")]),r("el-button",{attrs:{type:"danger"},on:{click:e.cancel1}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveedit}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"新增账号",visible:e.editCGQDVisible2},on:{"update:visible":function(t){e.editCGQDVisible2=t}}},[r("el-form",{ref:"editCGQDlist2",attrs:{model:e.editCGQDlist2,rules:e.rules,inline:!0}},[r("el-form-item",{attrs:{label:"账户",prop:"name"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.editCGQDlist2.name,callback:function(t){e.$set(e.editCGQDlist2,"name",t)},expression:"editCGQDlist2.name"}},[""===e.editCGQDlist2.name?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[r("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.editCGQDlist2.pwd,callback:function(t){e.$set(e.editCGQDlist2,"pwd",t)},expression:"editCGQDlist2.pwd"}},[""===e.editCGQDlist2.pwd?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),"SupperAdmin"!==this.value?r("el-form-item",{attrs:{label:"角色",prop:"value"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editCGQDlist2.value,callback:function(t){e.$set(e.editCGQDlist2,"value",t)},expression:"editCGQDlist2.value"}},e._l(e.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1):e._e()],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:e.clear2}},[e._v("清空")]),r("el-button",{attrs:{type:"danger"},on:{click:e.cancel2}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveedit2}},[e._v("确 定")])],1)],1)],1)},a=[],n=(r("7f7f"),r("96cf"),r("1da1")),s={inject:["reload"],data:function(){return{options:[{value:"SupperAdmin",label:"超级管理员",disabled:!0},{value:"Admin",label:"普通管理员"},{value:"CGY",label:"仓管员"},{value:"SYY",label:"收银员"}],value:"",list:[],editCGQDVisible:!1,editCGQDlist:{name:"",pwd:"",role:"",id:""},rules:{name:[{required:!0,message:"请输入",trigger:"blur"}],pwd:[{required:!0,message:"请输入",trigger:"blur"}],value:[{required:!0,message:"请输入",trigger:"blur"}]},editCGQDVisible2:!1,editCGQDlist2:{name:"",pwd:"",value:"",id:""}}},created:function(){this.listGET()},methods:{cs:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/YHselect1"});case 2:t=e.sent,this.$message.success(JSON.stringify(t));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleDelete:function(e,t){var r=this;this.axios({path:"/user/YHdelete1",method:"POST",data:{id:this.list[t].id}}).then((function(){r.reload(),r.$notify({title:"成功删除！",type:"success"})})).catch((function(e){r.$message.error(e.message)}))},addsubmit:function(){this.editCGQDVisible2=!0},clear2:function(){this.editCGQDlist2.name="",this.editCGQDlist2.pwd="",this.value=""},cancel2:function(){this.editCGQDVisible2=!1,this.$refs["editCGQDlist2"].resetFields()},saveedit2:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["editCGQDlist2"].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:t.axios({path:"/user/YHadd1",method:"POST",data:{name:t.editCGQDlist2.name,pwd:t.editCGQDlist2.pwd,role:t.editCGQDlist2.value}}).then((function(){t.reload(),t.editCGQDVisible=!1,t.$notify({title:"添加成功！",type:"success"})})).catch((function(e){t.$message.error(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),edit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.editCGQDVisible=!0,this.editCGQDlist.name=this.list[t].name,this.editCGQDlist.pwd=this.list[t].pwd,this.value=this.list[t].role,this.editCGQDlist.id=this.list[t].id;case 5:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),clear1:function(){this.editCGQDlist.name="",this.editCGQDlist.pwd="",this.value=""},cancel1:function(){this.editCGQDVisible=!1,this.$refs["editCGQDlist"].resetFields()},saveedit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["editCGQDlist"].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:t.axios({path:"/user/YHedit1",method:"POST",data:{name:t.editCGQDlist.name,pwd:t.editCGQDlist.pwd,role:t.value,id:t.editCGQDlist.id}}).then((function(){t.reload(),t.editCGQDVisible=!1,t.$notify({title:"修改成功！",type:"success"})})).catch((function(e){t.$message.error(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),listGET:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/YHselect1"});case 2:t=e.sent,this.list=t;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},l=s,o=(r("0117"),r("2877")),c=Object(o["a"])(l,i,a,!1,null,null,null);t["default"]=c.exports},b367:function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){"use strict";function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=window.devicePixelRatio||1,i=10*r,a=i/2;return function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.canvas=function(e){var t=document.getElementById(e),i=t.parentNode.clientWidth,a=t.parentNode.clientHeight;return t.style.width=i+"px",t.style.height=a+"px",t.width=i*r,t.height=a*r,t}(e),this.ctx=this.canvas.getContext("2d"),this.type="bar",this.showValue=!0,this.showGrid=!0,this.topPadding=60*r,this.leftPadding=50*r,this.rightPadding=10*r,this.bottomPadding=50*r,this.yEqual=5,this.yLength=0,this.xLength=0,this.ySpace=0,this.xRorate=0,this.yRorate=0,this.bgColor="#fff",this.axisColor="#666",this.gridColor="#eee",this.title={text:"",color:"#666",position:"top",font:"bold "+18*r+"px Arial",top:i,bottom:a},this.legend={display:!0,position:"top",color:"#666",font:14*r+"px Arial",top:45*r,bottom:15*r,textWidth:0},this.radius=100*r,this.innerRadius=60*r,this.colorList=["#4A90E2","#F5A623","#ff5858","#5e64ff","#2AC766","#743ee2","#b554ff","#199475"],this.init(t)}return function(t,r,i){r&&e(t.prototype,r),i&&e(t,i)}(n,[{key:"init",value:function(e){if(e.title=Object.assign({},this.title,e.title),e.legend=Object.assign({},this.legend,e.legend),Object.assign(this,e),!e.labels||!e.labels.length)throw new Error("缺少主要参数labels");if(!e.datasets||!e.datasets.length)throw new Error("缺少主要参数datasets");this.drawBackground(),"bar"===this.type||"line"===this.type?this.renderBarChart():this.renderPieChart(),this.drawLegend()}},{key:"renderBarChart",value:function(){this.yLength=Math.floor((this.canvas.height-this.topPadding-this.bottomPadding-i)/this.yEqual),this.xLength=Math.floor((this.canvas.width-this.leftPadding-this.rightPadding-i)/this.labels.length),this.ySpace=function(e,r){var i=e.map((function(e){return e.data.reduce((function(e,t){return t<e?e:t}))})),a=Math.ceil(Math.max.apply(Math,t(i))/r),n=a.toString().length-1;return n=2<n?2:n,Math.ceil(a/Math.pow(10,n))*Math.pow(10,n)}(this.datasets,this.yEqual),this.drawXAxis(),this.drawYAxis(),this.drawBarContent()}},{key:"drawBarContent",value:function(){var e=this.ctx,t=this.datasets.length;e.beginPath();for(var n=0;n<t;n++){e.font=this.legend.font,this.legend.textWidth+=Math.ceil(e.measureText(this.datasets[n].label).width),e.fillStyle=e.strokeStyle=this.datasets[n].fillColor||this.colorList[n];for(var s=this.datasets[n].data,l=0;l<s.length;l++)if(!(l>this.labels.length-1)){var o=this.xLength/(t+1),c=this.yLength/this.ySpace,u=this.leftPadding+this.xLength*l+o*(n+.5),p=u+o,d=this.canvas.height-this.bottomPadding,h=d-s[l]*c;if("bar"===this.type)e.fillRect(u,h,p-u,d-h),this.drawValue(s[l],u+o/2,h-a);else if("line"===this.type){var m=this.leftPadding+this.xLength*(l+.5);e.beginPath(),e.arc(m,h,3*r,0,2*Math.PI,!0),e.fill(),0!==l&&(e.beginPath(),e.strokeStyle=this.datasets[n].fillColor||this.colorList[n],e.lineWidth=2*r,e.moveTo(m-this.xLength,d-s[l-1]*c),e.lineTo(m,h),e.stroke(),e.lineWidth=1*r),this.drawValue(s[l],m,h-i)}}}e.stroke()}},{key:"renderPieChart",value:function(){for(var e=this.ctx,t=this.labels.length,r=this.datasets[0],i=r.data,a=i.reduce((function(e,t){return e+t})),n=-Math.PI/2,s=this.canvas.width/2,l=this.canvas.height/2,o=0;o<t;o++){e.font=this.legend.font,this.legend.textWidth+=Math.ceil(e.measureText(this.labels[o]).width),e.beginPath(),e.strokeStyle=e.fillStyle=r.colorList&&r.colorList[o]||this.colorList[o],e.moveTo(s,l);var c=n,u=n+=i[o]/a*2*Math.PI;e.arc(s,l,this.radius,c,u),e.closePath(),e.fill();var p=(c+u)/2;this.drawPieValue(i[o],p)}"ring"===this.type&&(e.beginPath(),e.fillStyle=this.bgColor,e.arc(s,l,this.innerRadius,0,2*Math.PI),e.closePath(),e.fill())}},{key:"drawValue",value:function(e,t,i){var a=this.ctx;this.showValue&&(a.textBaseline="middle",a.font=12*r+"px Arial",a.textAlign="center",a.fillText(e,t,i))}},{key:"drawPieValue",value:function(e,t){var r=this.ctx;if(this.showValue){var a=this.canvas.width/2,n=this.canvas.height/2,s=Math.ceil(Math.abs(this.radius*Math.cos(t))),l=Math.floor(Math.abs(this.radius*Math.sin(t)));r.textBaseline="middle",this.showValue&&(t<=0?(r.textAlign="left",r.moveTo(a+s,n-l),r.lineTo(a+s+i,n-l-i),r.moveTo(a+s+i,n-l-i),r.lineTo(a+s+3*i,n-l-i),r.stroke(),r.fillText(e,a+s+3.5*i,n-l-i)):0<t&&t<=Math.PI/2?(r.textAlign="left",r.moveTo(a+s,n+l),r.lineTo(a+s+i,n+l+i),r.moveTo(a+s+i,n+l+i),r.lineTo(a+s+3*i,n+l+i),r.stroke(),r.fillText(e,a+s+3.5*i,n+l+i)):t>Math.PI/2&&t<Math.PI?(r.textAlign="right",r.moveTo(a-s,n+l),r.lineTo(a-s-i,n+l+i),r.moveTo(a-s-i,n+l+i),r.lineTo(a-s-3*i,n+l+i),r.stroke(),r.fillText(e,a-s-3.5*i,n+l+i)):(r.textAlign="right",r.moveTo(a-s,n-l),r.lineTo(a-s-i,n-l-i),r.moveTo(a-s-i,n-l-i),r.lineTo(a-s-3*i,n-l-i),r.stroke(),r.fillText(e,a-s-3.5*i,n-l-i)))}}},{key:"drawBackground",value:function(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.drawTitle()}},{key:"drawTitle",value:function(){var e=this.title;if(e.text){var t=this.ctx;t.beginPath(),t.font=e.font,t.textAlign="center",t.fillStyle=e.color,"top"===e.position?(t.textBaseline="top",t.fillText(e.text,this.canvas.width/2,e.top)):(t.textBaseline="bottom",t.fillText(e.text,this.canvas.width/2,this.canvas.height-e.bottom))}}},{key:"drawXAxis",value:function(){var e=this.ctx,t=this.canvas.height-this.bottomPadding+.5;e.beginPath(),e.strokeStyle=this.axisColor,e.moveTo(this.leftPadding,t),e.lineTo(this.canvas.width-this.rightPadding,t),e.stroke(),this.drawXPoint()}},{key:"drawXPoint",value:function(){var e=this.ctx;e.beginPath(),e.font=12*r+"px Microsoft YaHei",e.textAlign=this.xRorate?"right":"center",e.textBaseline="top",e.fillStyle=this.axisColor;for(var t=0;t<this.labels.length;t++){var n=this.labels[t],s=this.leftPadding+this.xLength*(t+1)+.5,l=this.canvas.height-this.bottomPadding;this.showGrid?(e.strokeStyle=this.gridColor,e.moveTo(s,l),e.lineTo(s,this.topPadding+i)):(e.moveTo(s,l),e.lineTo(s,l-a)),e.stroke(),e.save(),e.translate(s-this.xLength/2,l+a),e.rotate(-this.xRorate*Math.PI/180),e.fillText(n,0,0),e.restore()}}},{key:"drawYAxis",value:function(){var e=this.ctx;e.beginPath(),e.strokeStyle=this.axisColor,e.moveTo(this.leftPadding-.5,this.canvas.height-this.bottomPadding+.5),e.lineTo(this.leftPadding-.5,this.topPadding+.5),e.stroke(),this.drawYPoint()}},{key:"drawYPoint",value:function(){var e=this.ctx;e.font=12*r+"px Microsoft YaHei",e.textAlign="right",e.textBaseline="middle",e.beginPath();for(var t=0;t<this.yEqual;t++){var n=this.leftPadding,s=this.canvas.height-this.bottomPadding-this.yLength*(t+1)+.5;this.showGrid?(e.strokeStyle=this.gridColor,e.moveTo(n,s),e.lineTo(this.canvas.width-this.rightPadding-i,s)):(e.strokeStyle=this.axisColor,e.moveTo(n-a,s),e.lineTo(n,s)),e.stroke(),e.save(),e.fillStyle=this.axisColor,e.translate(n-i,s),e.rotate(-this.yRorate*Math.PI/180),e.fillText(this.ySpace*(t+1),0,0),e.restore()}}},{key:"drawLegend",value:function(){var e=this.legend;if(e.display){var t=this.ctx,r="pie"===this.type||"ring"===this.type;t.beginPath(),t.font=e.font,t.textAlign="left",t.textBaseline="middle";for(var n=r?this.labels.length:this.datasets.length,s=(this.canvas.width-(this.legend.textWidth+(5*n-2)*i))/2,l=0,o=0;o<n;o++){var c=r?this.datasets[0]:this.datasets[o],u=(r?this.labels[o]:c.label)||"";t.fillStyle=c.colorList&&c.colorList[o]||c.fillColor||this.colorList[o],"top"===e.position?(this.drawLegendIcon(s+5*i*o+l,e.top-a,2*i,i),t.fillStyle=e.color,t.fillText(u,s+(5*o+3)*i+l,e.top)):"bottom"===e.position?(this.drawLegendIcon(s+5*i*o+l,this.canvas.height-e.bottom-a,2*i,i),t.fillStyle=e.color,t.fillText(u,s+(5*o+3)*i+l,this.canvas.height-e.bottom)):(t.fillRect(i,e.top+2*i*o,2*i,i),t.fillStyle=e.color,t.fillText(u,4*i,e.top+2*i*o+.5*i)),l+=Math.ceil(t.measureText(u).width)}}}},{key:"drawLegendIcon",value:function(e,t,n,s){var l=this.ctx;"line"===this.type?(l.beginPath(),l.strokeStyle=l.fillStyle,l.lineWidth=2*r,l.moveTo(e,t+a),l.lineTo(e+2*i,t+a),l.stroke(),l.lineWidth=1*r,l.arc(e+i,t+a,3*r,0,2*Math.PI,!0),l.fill()):l.fillRect(e,t,n,s)}}]),n}()}))},b98c:function(e,t,r){"use strict";var i=r("5382"),a=r.n(i);a.a},bcb4:function(e,t,r){"use strict";var i=r("ede6"),a=r.n(i);a.a},c2ab:function(e,t,r){e.exports=r.p+"static/img/header-bg.10fb6cf2.jpg"},c336:function(e,t,r){},c550:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticStyle:{float:"left"}},[r("el-tabs",{staticStyle:{"margin-left":"15px"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"货架管理",name:"first"}},[r("el-button",{on:{click:function(t){e.show2=!e.show2}}},[e._v("货架收纳/展开")]),r("el-button",{on:{click:e.addshow}},[e._v("添加货架")]),r("el-input",{staticClass:"input-with-select",staticStyle:{"max-width":"250px","margin-left":"5px"},attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[""===e.input?r("el-button",{attrs:{slot:"append",icon:"el-icon-refresh-right"},on:{click:function(t){return e.searchsubmit()}},slot:"append"}):r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.searchsubmit()}},slot:"append"}),""===e.input?r("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()],1),r("div",{staticStyle:{"margin-top":"5px","margin-left":"5px"}},[r("transition",{attrs:{name:"el-zoom-in-center"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.show2,expression:"show2"}]},[r("span",{staticStyle:{"margin-right":"20px"}},[e._v("货架:")]),e._l(e.HJ,(function(t,i){return r("el-radio-group",{key:i,staticStyle:{"margin-right":"15px"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[r("el-radio",{attrs:{label:t.HJname}},[e._v(e._s(t.HJname))])],1)}))],2)])],1),r("div",[r("el-row",{staticClass:"el-row",attrs:{gutter:20,size:"mini"}},e._l(e.list,(function(t,i){return r("section",{key:i,staticClass:"posts-expand"},[r("el-col",{staticStyle:{"max-width":"400px"},attrs:{span:40}},[r("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"5px"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[""===e.radio?r("span",{staticStyle:{"margin-right":"20px"}},[e._v(e._s(t.HJname)+" ")]):r("el-checkbox-group",{on:{change:e.handleCheckedChange},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}},[r("el-checkbox",{attrs:{label:t.HJchildren}})],1),""===e.radio?r("el-button",{attrs:{slot:"reference",type:"primary",icon:"el-icon-position",size:"mini",circle:""},on:{click:function(r){return e.go(t)}},slot:"reference"}):e._e(),""===e.radio?r("el-button",{attrs:{type:"text"}},[r("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定删除该货架吗？"},on:{onConfirm:function(r){return e.deleteHJname(t)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini",circle:""},slot:"reference"})],1)],1):e._e()],1),r("span",{staticStyle:{"margin-right":"20px"}},[e._v("商品:")]),e._l(t.subList,(function(e,t){return r("el-badge",{key:t,ref:"multipleTable",refInFor:!0,attrs:{value:""!==e.HJbarcode&&null!==e.HJbarcode?e.productname:"空",type:""!==e.HJbarcode&&null!==e.HJbarcode?"success":"primary"}})}))],2)],1)],1)})),0)],1)],1),r("el-tab-pane",{attrs:{label:"在架商品",name:"second"}},[r("el-table",{ref:"multipleTable",attrs:{data:e.HJGET,size:"mini",border:""}},[r("el-table-column",{attrs:{prop:"productname",label:"商品名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(t.row.productname)+"\n                        ")]}}])}),r("el-table-column",{attrs:{prop:"HJSPbarcode",label:"条形码",align:"center"}}),r("el-table-column",{attrs:{prop:"HJSPnumber",label:"数目",align:"center",sortable:""}}),r("el-table-column",{attrs:{prop:"inwarehousetime",label:"批次",align:"center",sortable:""}}),r("el-table-column",{attrs:{prop:"Duedate",label:"临期日期",align:"center",sortable:""}}),r("el-table-column",{attrs:{label:"状态",align:"center",filters:[{text:"临期",value:"临期"},{text:"余货不足",value:"余货不足"},{text:"正常",value:"正常"}],"filter-method":e.filterTag},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.HJSPnumber<t.row.CKstockwarning?r("el-badge",{attrs:{value:"余货不足",type:"warning"}}):e._e(),e.NOWDATE>t.row.Duedate?r("el-badge",{attrs:{value:"临期",type:"danger"}}):e._e(),e.NOWDATE<t.row.Duedate&&t.row.HJSPnumber>t.row.CKstockwarning?r("el-badge",{attrs:{value:"正常",type:"success"}}):e._e()]}}])})],1)],1),r("el-tab-pane",{attrs:{label:"角色管理",name:"third"}},[e._v("角色管理")]),r("el-tab-pane",{attrs:{label:"定时任务补偿",name:"fourth"}},[e._v("定时任务补偿")])],1)],1),r("transition",{attrs:{name:"el-zoom-in-bottom"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.show1,expression:"show1"}],staticClass:"transition-box",staticStyle:{display:"flex",position:"fixed",bottom:"0px",right:"0px"}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[r("el-form-item",{attrs:{label:"子架区"}},[r("el-input",{attrs:{clearable:""},on:{clear:function(t){return e.clear()}},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}})],1),r("el-form-item",{attrs:{label:"商品名称",prop:"product"}},[r("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchsupplierproduct,placeholder:"请输入内容",clearable:""},on:{select:e.handleSelectsupplierproduct},model:{value:e.form.product,callback:function(t){e.$set(e.form,"product",t)},expression:"form.product"}})],1),r("el-form-item",{attrs:{label:"批次",prop:"intime"}},[r("el-select",{attrs:{placeholder:"请选择补充的商品",clearable:""},model:{value:e.form.intime,callback:function(t){e.$set(e.form,"intime",t)},expression:"form.intime"}},e._l(e.CP,(function(e,t){return r("el-option",{key:t,attrs:{label:e.intime,value:e.intime}})})),1)],1),r("el-form-item",{attrs:{label:"数目",prop:"num"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}},[""===e.form.phonename?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-button",{attrs:{type:"primary",align:"center"},on:{click:e.saveadd}},[e._v("创建计划")])],1)],1)]),r("el-dialog",{attrs:{title:"添加供应商产品",visible:e.addHJ},on:{"update:visible":function(t){e.addHJ=t}}},[r("el-form",{ref:"addHJForm",attrs:{model:e.addHJForm,rules:e.rules,inline:!0}},[r("el-form-item",{attrs:{label:"货架",prop:"HJname"}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.addHJForm.HJname,callback:function(t){e.$set(e.addHJForm,"HJname",t)},expression:"addHJForm.HJname"}},[""===e.addHJForm.producttype?r("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"}):e._e()])],1),r("el-form-item",{attrs:{label:"子区间",prop:"shelf"}},[r("el-form-item",{attrs:{prop:"shelfy"}},[r("el-input",{staticStyle:{width:"105px"},attrs:{placeholder:"请输入纵数"},model:{value:e.addHJForm.shelfy,callback:function(t){e.$set(e.addHJForm,"shelfy",t)},expression:"addHJForm.shelfy"}}),e._v("  \n                ")],1),r("el-form-item",{attrs:{prop:"shelfx"}},[r("el-input",{staticStyle:{width:"105px"},attrs:{placeholder:"请输入列数"},model:{value:e.addHJForm.shelfx,callback:function(t){e.$set(e.addHJForm,"shelfx",t)},expression:"addHJForm.shelfx"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:e.clear2}},[e._v("清空")]),r("el-button",{attrs:{type:"danger"},on:{click:e.cancel2}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveaddSupplierproduct}},[e._v("确 定")])],1)],1)],1)},a=[],n=(r("759f"),r("57e7"),r("d25f"),r("ac6a"),r("f3e2"),r("96cf"),r("1da1")),s=r("ade3"),l={show2:!0,inject:["reload"],name:"AutoHeightTable",data:function(){var e;return e={input:"",NOWDATE:this.dayjs().format("YYYY-MM-DD"),CP:{},labelPosition:"right",addHJ:!1,addHJForm:{HJname:"",shelfy:"",shelfx:""},form:{product:"",num:"",intime:""},rules:{HJname:[{required:!0,message:"请输入",trigger:"blur"}],shelfy:[{required:!0,message:"请输入",trigger:"blur"}],shelfx:[{required:!0,message:"请输入",trigger:"blur"}]}},Object(s["a"])(e,"rules",{product:[{required:!0,message:"请输入",trigger:"blur"}],num:[{required:!0,message:"请输入",trigger:"blur"}],intime:[{required:!0,message:"请输入",trigger:"blur"}]}),Object(s["a"])(e,"checked",[]),Object(s["a"])(e,"checked2",[]),Object(s["a"])(e,"input",""),Object(s["a"])(e,"radio",""),Object(s["a"])(e,"list",[]),Object(s["a"])(e,"HJ",[]),Object(s["a"])(e,"HJSP",[]),Object(s["a"])(e,"NOWDATE",this.dayjs().format("YYYY-MM-DD")),Object(s["a"])(e,"show2",!0),Object(s["a"])(e,"show1",!1),Object(s["a"])(e,"activeName","first"),Object(s["a"])(e,"code",""),e},created:function(){this.listGET(),this.HJGET(),this.HJSPGET(),this.listselect()},watch:{radio:function(e){this.radio=e;var t=this.radio;this.$message.success("货架___"+t),this.radioshow()}},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/SJSPseach1"});case 2:t=e.sent,this.CGQDsearch1A=t,this.CGQDsearch1A.forEach((function(e){r.$set(e,"value",e.productname),delete e.productname})),this.restaurants1=this.CGQDsearch1A;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{cancel2:function(){this.addHJ=!1,this.$refs["addHJForm"].resetFields()},clear2:function(){this.$refs["addHJForm"].resetFields()},addshow:function(){this.addHJ=!0},saveaddSupplierproduct:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["addHJForm"].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var i,a,n,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:for(i=t.addHJForm,a=1;a<=i.shelfy;a++)for(n=1;n<=i.shelfx;n++)s=n,l=a,n<10&&(s="0"+s),a<10&&(l="0"+l),t.axios({path:"/user/HJadd1",method:"POST",data:{HJname:i.HJname,HJchildren:i.HJname+"货架"+l+"行"+s+"列"}}).catch((function(e){t.$message.error(e.message)}));t.$refs["addHJForm"].resetFields(),t.addHJ=!1,t.listGET(),t.reload(),t.$notify({title:"成功添加！",type:"success"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deleteHJname:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/HJsearch5",method:"get",data:{HJname:t.HJname}});case 2:r=e.sent,0===r.length?this.axios({path:"/user/HJdelete1",method:"POST",data:{HJname:t.HJname}}).then((function(){i.listGET(),i.$notify({title:"成功删除！",type:"success"})})).catch((function(e){i.$message.error(e.message)})):sweetAlert("哎呦……出错了！","你需要把货架的商品下架才能删除货架","error");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),searchsubmit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.input){e.next=7;break}return e.next=3,this.axios({path:"/user/HJsearch4",method:"get",data:{HJname:"%"+this.input+"%"}});case 3:t=e.sent,0==t.length?this.$notify({title:"查无数据",type:"warning"}):(this.list=t,this.$notify({title:"查询成功",type:"success"}),this.input=""),e.next=11;break;case 7:this.reload(),this.radio="",this.listGET(),this.clear();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),querySearchsupplierproduct:function(e,t){var r=this.restaurants1,i=e?r.filter(this.createStateFilter(e)):r;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t(i)}),1e3*Math.random())},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelectsupplierproduct:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/SJSPseach2",method:"get",data:{productname:t.value}});case 2:return r=e.sent,e.next=5,this.axios({path:"/user/SJSPseach3",method:"get",data:{productname:t.value}});case 5:return i=e.sent,e.next=8,this.axios({path:"/user/SJSPseach4",method:"get",data:{productname:t.value}});case 8:a=e.sent,0===i.length?(this.CP=r,this.code=r[0].CKbarcode):0===a.length?(sweetAlert("该货架的商品批次已用尽！","你需要把货架的商品下架才才能继续进行","error"),this.CP=[]):(this.CP=i,this.form.intime=i[0].inwarehousetime,this.code=i[0].CKbarcode);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),saveadd:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["form"].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:for(i=t.form,a=0;a<t.checked2.length;a++)t.axios({path:"/user/SJSPJHdelete1",method:"POST",data:{SJHJshelf:t.checked2[a]+"",SJHJtime:t.NOWDATE,SJbarcode:t.code}});t.axios({path:"/user/SJSPSMdelete1",method:"POST",data:{SJSMbarcode:t.code,SJSMtime:t.NOWDATE}}).then((function(){for(var e=0;e<t.checked2.length;e++)t.axios({path:"/user/SJSPJHadd1",method:"POST",data:{SJbarcode:t.code,SJHJshelf:t.checked2[e]+"",SJHJtime:t.NOWDATE,SJHJstatus:"进行中"}});t.axios({path:"/user/SJSPSMadd1",method:"POST",data:{SJSMbarcode:t.code,SJSM:i.num,SJSMtime:t.NOWDATE,SJSMstatus:"进行中",SJSMintime:i.intime+""}}),t.clear(),t.$notify({title:"成功添加！",type:"success"})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clear:function(){this.$refs["form"].resetFields(),this.checked2=[],this.show1=!1},handleCheckedChange:function(e){0!==e.length?this.show1=!0:this.show1=!1},filterTag:function(e,t){return"临期"===e?this.NOWDATE>t.Duedate:"余货不足"===e?t.HJSPnumber<t.CKstockwarning:"正常"===e?this.NOWDATE<t.Duedate&&t.HJSPnumber>t.CKstockwarning:void 0},go:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.radio=t.HJname,this.radioshow();case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),radioshow:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/HJsearch3",method:"get",data:{HJname:this.radio}});case 2:t=e.sent,r=[],t.forEach((function(e,t){var a=-1,n=r.some((function(t,r){if(e.HJchildren==t.HJchildren)return a=r,!0}));n?r[a].subList.push(e):r.push({HJchildren:e.HJchildren,subList:[e]}),i.list=r}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),listGET:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/HJsearch1"});case 2:t=e.sent,r=[],t.forEach((function(e,t){var a=-1,n=r.some((function(t,r){if(e.HJname==t.HJname)return a=r,!0}));n?r[a].subList.push(e):r.push({HJname:e.HJname,subList:[e]}),i.list=r})),this.show1=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),HJGET:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/HJsearch2"});case 2:t=e.sent,this.HJ=t;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),HJSPGET:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios({path:"/user/HJSPsearch1"});case 2:t=e.sent,this.HJGET=t,t.forEach((function(e,t){r.$set(e,"Duedate",r.dayjs(e.inwarehousetime).add(e.duedateproportion,"day").format("YYYY-MM-DD"))}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},o=l,c=(r("327d"),r("2877")),u=Object(c["a"])(o,i,a,!1,null,null,null);t["default"]=u.exports},c5f3:function(e,t,r){"use strict";var i=r("5ebe"),a=r.n(i);a.a},cc8c:function(e,t,r){"use strict";var i=r("c336"),a=r.n(i);a.a},cfd0:function(e,t,r){"use strict";var i=r("89a5"),a=r.n(i);a.a},d416:function(e,t,r){},d534:function(e,t,r){},e1a2:function(e,t,r){"use strict";var i=r("6a1e"),a=r.n(i);a.a},ede6:function(e,t,r){},ee90:function(e,t,r){},f599:function(e,t,r){"use strict";var i=r("2599"),a=r.n(i);a.a},fe12:function(e,t,r){"use strict";var i=r("d534"),a=r.n(i);a.a}}]);