webpackJsonp([9],{wPpq:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("gyMJ"),i={data:function(){return{curPage:1,pageSize:10,totalData:0,tempData:[],order:{},dialogVisible:!1}},components:{pagination:a("1onU").a},activated:function(){this.getAppealData()},methods:{getAppealData:function(){var t=this;this.tempData=[];var e={page:this.curPage,limit:this.pageSize};Object(n.u)(e).then(function(e){t.tempData=e.message,t.totalData=e.total})},paginationChange:function(t){this.curPage=t.page,this.pageSize=t.limit,this.getAppealData()},handleDetail:function(t){this.order=t,this.dialogVisible=!0},handleDelete:function(t){var e=this;this.$confirm("确认删除该申述吗",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.e)({appeal_id:t.appeal_id,type:1}).then(function(t){200===t.success_code&&(e.$message.success("删除成功"),e.getAppealData())})}).catch(function(){})},handleClose:function(t){t()},adopt:function(t){var e=this;this.$confirm("确认通过该申述吗",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.e)({appeal_id:t.appeal_id,appeal_status:1}).then(function(t){200===t.success_code&&(e.$message.success("通过申述成功"),e.getAppealData())})}).catch(function(){})},refuse:function(t){var e=this;this.$confirm("确认拒绝该申述吗",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.e)({appeal_id:t.appeal_id,appeal_status:2}).then(function(t){200===t.success_code&&(e.$message.success("拒绝申述成功"),e.getAppealData())})}).catch(function(){})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"admin-appeal"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tempData}},[a("el-table-column",{attrs:{label:"申诉流水号",prop:"appeal_id"}}),t._v(" "),a("el-table-column",{attrs:{label:"申请方",prop:"appealer"}}),t._v(" "),a("el-table-column",{attrs:{label:"订单号",prop:"order_id"}}),t._v(" "),a("el-table-column",{attrs:{label:"申诉时间",prop:"createTime"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(0==e.row.appeal_status?"申诉中":1==e.row.appeal_status?"申诉通过":"申诉不通过")+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.handleDetail(e.row)}}},[t._v("详情")]),t._v(" "),0==e.row.appeal_status?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.adopt(e.row)}}},[t._v("通过")]):t._e(),t._v(" "),0==e.row.appeal_status?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.refuse(e.row)}}},[t._v("拒绝")]):t._e(),t._v(" "),0!=e.row.appeal_status?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),a("pagination",{attrs:{page:t.curPage,limit:t.pageSize,total:t.totalData},on:{pagination:t.paginationChange}}),t._v(" "),a("el-dialog",{attrs:{title:"申诉原因",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"item"},[t._v("\n      "+t._s(t.order.reason||"无填写原因")+"\n    ")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var l=a("VU/8")(i,o,!1,function(t){a("wd78")},"data-v-c2824b0e",null);e.default=l.exports},wd78:function(t,e){}});
//# sourceMappingURL=9.d15bbdfb88c61b34f510.js.map