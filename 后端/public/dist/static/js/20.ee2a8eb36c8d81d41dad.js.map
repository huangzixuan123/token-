{"version":3,"sources":["webpack:///src/pages/Goods/Goods.vue","webpack:///./src/pages/Goods/Goods.vue?55b5","webpack:///./src/pages/Goods/Goods.vue"],"names":["Goods","data","textarea","rating","colors","currentGoodsId","shopNum","computed","extends_default","Object","vuex_esm","created","console","log","this","Number","$route","params","id","$store","dispatch","goodsNo","goodsId","watch","methods","post","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","element_ui_common","type","message","showClose","abrupt","api","goodsDetail","goods_id","userInfo","user_nickname","sent","success_code","stop","dealWithCellBtnClick","goods","_this2","_callee2","_context2","user_name","$confirm","confirmButtonText","cancelButtonText","then","user_id","publisher","publisher_id","res","$message","success","setTimeout","$router","replace","error","catch","delComment","commentId","_this3","_callee3","_context3","Goods_Goods","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","width","height","src","image_url","_v","_s","short_name","_f","price","goods_name","user_status","createTime","directives","name","rawName","value","expression","on","click","$event","preventDefault","goodsComment","length","_l","comment","index","key","staticStyle","float","color","font-weight","cursor","comment_id","_e","comment_detail","autosize","placeholder","model","callback","$$v","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.ee2a8eb36c8d81d41dad.js","sourcesContent":["<template>\r\n  <div id=\"container\" v-if=\"goodsDetail[0]\">\r\n\t\t\t<div class=\"pro_detail\">\r\n\t\t\t\t<div class=\"pro_img\">\r\n\t\t\t\t\t<div class=\"tb_booth\">\r\n            <img width=\"100\" height=\"100\" :src=\"goodsDetail[0].image_url\" class=\"pro_middle_img\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"pro_meg\">\r\n\t\t\t\t\t<div class=\"pro_meg_hd\">\r\n\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t \t\t{{goodsDetail[0].short_name}}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"pro_meg_price\">\r\n\t\t\t\t\t\t<dl>\r\n\t\t\t\t\t\t\t<dt>价格</dt>\r\n\t\t\t\t\t\t\t<dd>\r\n\t\t\t\t\t\t\t\t<div class=\"promo_price\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"tm-price\">{{goodsDetail[0].price / 100 | moneyFormat}}</span>\r\n\t\t\t\t\t\t\t\t\t<!-- <b>优惠促销</b> -->\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t</dl>\r\n            <!-- <dl>\r\n\t\t\t\t\t\t\t<dt>市场价</dt>\r\n\t\t\t\t\t\t\t<dd class=\"nor_price\">{{goodsDetail[0].normal_price /100 | moneyFormat }}</dd>\r\n\t\t\t\t\t\t</dl> -->\r\n\t\t\t\t\t\t<dl>\r\n\t\t\t\t\t\t\t<dt>商品描述</dt>\r\n\t\t\t\t\t\t\t<dd>{{goodsDetail[0].goods_name}}</dd>\r\n\t\t\t\t\t\t</dl>\r\n            <dl>\r\n\t\t\t\t\t\t\t<dt>发布人</dt>\r\n\t\t\t\t\t\t\t<dd>{{goodsDetail[0].publisher_id == userInfo.id ? '本人' : goodsDetail[0].publisher}}<span class=\"a\">{{ goodsDetail[0].user_status == 1 ? '已实名' : '未实名' }}</span></dd>\r\n\t\t\t\t\t\t</dl>\r\n            <dl>\r\n\t\t\t\t\t\t\t<dt>发布时间</dt>\r\n\t\t\t\t\t\t\t<dd>{{goodsDetail[0].createTime}}</dd>\r\n\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- <div class=\"pro_meg_deliver\">\r\n\t\t\t\t\t\t<dl style=\"display: flex;align-items:center\">\r\n\t\t\t\t\t\t\t<dt>发布人</dt>\r\n\t\t\t\t\t\t\t<dd style=\"font-size: 16px;margin-bottom:0\">{{ goodsDetail[0].publisher }}</dd>\r\n\t\t\t\t\t\t</dl>\r\n            <dl style=\"display: flex;align-items:center\">\r\n              <dt>发布时间</dt>\r\n\t\t\t\t\t\t\t<dd style=\"font-size: 16px;margin-bottom:0\">{{ goodsDetail[0].createTime }}</dd>\r\n\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t</div> -->\r\n\t\t\t\t\t<div class=\"pro_meg_console\">\r\n\t\t\t\t\t\t<!-- <dl class=\"tb-sku\">\r\n\t\t\t\t\t\t\t<dt>数量</dt>\r\n\t\t\t\t\t\t\t<dd>\r\n\t\t\t\t\t\t\t\t<div class=\"item-amout\">\r\n\t\t\t\t\t\t\t\t\t<el-input-number v-model=\"shopNum\" :min=\"1\" :max=\"goodsDetail[0].counts\"></el-input-number>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span>库存</span><em>{{goodsDetail[0].counts}}</em><span>件</span>\r\n\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t</dl> -->\r\n\t\t\t\t\t\t<div class=\"shopping_car\">\r\n\t\t\t\t\t\t\t<el-button type=\"danger\" @click.prevent=\"dealWithCellBtnClick(goodsDetail[0])\" v-show=\"goodsDetail[0].publisher_id !== userInfo.id\">立即购买</el-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n      <div class=\"pro_comment\">\r\n        <h3>全部留言</h3>\r\n        <div v-if=\"goodsComment.length !== 0\">\r\n          <div class=\"media\" v-for=\"(comment, index) in goodsComment\" :key=\"index\">\r\n            <div class=\"media-body\">\r\n              <h6 class=\"media-heading\">用户:&nbsp;<span v-if=\"comment.user_id == goodsDetail[0].publisher_id\">商家</span><span v-else>{{ comment.user_nickname | nameFormat }}</span><span v-if=\"goodsDetail[0].publisher_id == userInfo.id || comment.user_id == userInfo.id\" style=\"float: right; color: #409eff;font-weight: normal;cursor: pointer\" @click=\"delComment(comment.comment_id)\">删除</span></h6>\r\n              <span>留言:</span>&nbsp;{{comment.comment_detail}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"media\" v-else>\r\n          <div class=\"media-body\">\r\n            暂无留言\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"pro_judge\" v-if=\"userInfo.user_nickname\">\r\n        <h3>留言</h3>\r\n        <el-input\r\n          type=\"textarea\"\r\n          autosize\r\n          placeholder=\"请输入内容\"\r\n          v-model=\"textarea\">\r\n        </el-input>\r\n        <el-button type=\"primary\" @click=\"post()\">发布<i class=\"el-icon-edit el-icon--right\"></i></el-button>\r\n      </div>\r\n      <div class=\"pro_judge\" v-else>\r\n        <h3>评价该商品</h3>\r\n        <span class=\"judge_erro_tip\">登录后才可发表评论</span>\r\n      </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n  import {postComment, buyGoods,delComment} from './../../api/index';\r\n  import { MessageBox } from 'element-ui';\r\n  import {mapActions} from 'vuex'\r\n  import {mapState} from 'vuex'\r\nimport { param } from '../../../utils';\r\n\r\n  export default {\r\n    data(){\r\n      return{\r\n        textarea: '',\r\n        rating: 0,\r\n        colors: ['#99A9BF', '#F7BA2A', '#FF9900'],\r\n        currentGoodsId: 0,\r\n        shopNum: 1,\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState(['goodsDetail','userInfo','goodsComment'])\r\n    },\r\n    created(){\r\n      console.log(1)\r\n      this.currentGoodsId = Number(this.$route.params.id);\r\n      this.$store.dispatch('reqGoodsDetail', {\r\n          goodsNo: this.currentGoodsId\r\n      });\r\n      this.$store.dispatch('reqGoodsComment', {\r\n          goodsId: this.currentGoodsId\r\n      });\r\n    },\r\n    watch:{\r\n      $route(){\r\n        this.currentGoodsId = Number(this.$route.params.id);\r\n        this.$store.dispatch('reqGoodsDetail', {\r\n          goodsNo: this.currentGoodsId\r\n        });\r\n        this.$store.dispatch('reqGoodsComment', {\r\n          goodsId: this.currentGoodsId\r\n        });\r\n        // 请求当前用户信息\r\n        this.$store.dispatch('getUserInfo');\r\n      }\r\n    },\r\n    methods:{\r\n      async post(){\r\n        if(!this.textarea){\r\n           MessageBox({\r\n              type: 'info',\r\n              message: \"留言不得为空\",\r\n\t\t\t        showClose: true,\r\n           });\r\n           return;\r\n        }\r\n        let result =  await postComment(this.goodsDetail[0].goods_id, this.textarea, this.userInfo.id, this.userInfo.user_nickname);\r\n        if(result.success_code === 200){\r\n          MessageBox({\r\n              type: 'success',\r\n              message: \"发布成功\",\r\n\t\t\t        showClose: true,\r\n          });\r\n          this.textarea = '';\r\n\r\n          this.$store.dispatch('reqGoodsComment', {\r\n            goodsId: this.currentGoodsId\r\n          });\r\n        }else{\r\n          MessageBox({\r\n              type: 'info',\r\n              message: \"发布失败\",\r\n\t\t\t        showClose: true,\r\n          });\r\n        }\r\n      },\r\n      // 监听商品点击\r\n      async dealWithCellBtnClick(goods){\r\n         // 1. 发送请求\r\n        // user_id, goods_id, goods_name, thumb_url, price, buy_count, counts\r\n        if(this.userInfo.user_name){\r\n          this.$confirm('确认购买吗？', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          }).then(() => {\r\n            console\r\n            const params = {\r\n              user_id: this.userInfo.id,\r\n              user_nickname: this.userInfo.user_nickname,\r\n              publisher: this.goodsDetail[0].publisher,\r\n              publisher_id: this.goodsDetail[0].publisher_id,\r\n              goods_id: this.goodsDetail[0].goods_id,\r\n            }\r\n            buyGoods(params).then(res => {\r\n              console.log(res)\r\n              if (res.success_code === 200) {\r\n                this.$message.success('购买成功')\r\n                setTimeout(() => {\r\n                  this.$router.replace('/me/profile')\r\n                }, 1000)\r\n              } else {\r\n                this.$message.error(res.message)\r\n              }\r\n            })\r\n          }).catch(() => {         \r\n          })\r\n        } else {\r\n          MessageBox({\r\n            type: 'info',\r\n            message: \"请先登录!\",\r\n\t\t\t      showClose: true,\r\n          });\r\n        }\r\n      },\r\n      // 删除留言\r\n      delComment(commentId) {\r\n        this.$confirm('确定删除该留言吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then( async() => {\r\n\t\t  delComment(commentId).then(res => {\r\n          if (res.success_code == 200) {\r\n            this.$message.success('删除成功')\r\n            this.$store.dispatch('reqGoodsComment', {\r\n              goodsId: this.currentGoodsId\r\n            });\r\n          } else {\r\n            this.$message.error('删除失败')\r\n          }\r\n        })\r\n        }).catch(() => {\r\n        });\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n#container>.pro_detail{\r\n\twidth: 990px;\r\n  position: relative;\r\n  z-index: 100;\r\n  margin: 20px auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n#container>.pro_comment{\r\n\twidth: 73%;\r\n  position: relative;\r\n  margin: 40px auto 0;\r\n  padding: 20px;\r\n  border: 1px solid #ccc;\r\n}\r\n#container>.pro_judge{\r\n\twidth: 73%;\r\n  position: relative;\r\n  margin: 0 auto 60px;\r\n  padding: 20px;\r\n  border-top: none;\r\n  border: 1px solid #ccc;\r\n}\r\n.pro_judge>span{\r\n  font-size: 12px;\r\n  color: #ccc;\r\n}\r\n.pro_judge>.el-rate{\r\n  display: inline-block;\r\n}\r\n.pro_judge .el-textarea{\r\n  width: 50%;\r\n  display: block;\r\n  margin: 20px 0;\r\n}\r\n.pro_comment>h3{\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n}\r\n.pro_comment .media{\r\n  border-top: 1px dashed #ccc;\r\n  padding: 10px 0;\r\n}\r\n.pro_comment .media .media-heading{\r\n  margin-bottom: 10px;\r\n  font-weight: bolder;\r\n}\r\n.pro_comment .media .media-body{\r\n  font-size: 14px;\r\n}\r\n.pro_comment .media .media-body span{\r\n  font-weight: bolder;\r\n}\r\n.pro_comment .el-rate{\r\n  display: inline-block;\r\n  margin-left: 20px;\r\n}\r\n.pro_judge>h3{\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n}\r\n.pro_judge .judge_erro_tip{\r\n  font-size: 15px;\r\n  font-weight: bolder;\r\n  color: #000;\r\n}\r\n.pro_detail>.pro_img{\r\n    position: relative;\r\n    height: 400px;\r\n    width: 480px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: 1px solid #ccc\r\n}\r\n.pro_img>.tb_booth{\r\n\tposition: relative;\r\n  z-index: 1;\r\n  height: 220px;\r\n}\r\n.tb_booth>.pro_middle_img{\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.pro_detail>.pro_meg{\r\n  width: 400px;\r\n  color: #666;\r\n  padding: 0 0 3px;\r\n}\r\n.pro_meg>.pro_meg_hd{\r\n\tpadding: 0 10px 12px;\r\n    color: #000;\r\n}\r\n.pro_meg_hd>h1{\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    color: #000;\r\n}\r\n.pro_meg>.pro_meg_price{\r\n  padding: 5px 20px;\r\n  height: 260px;\r\n  background-color:rgba(247, 244, 244, 0.6);\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n}\r\n.pro_meg_price dl{\r\n  display: flex;\r\n  align-items: flex-start;\r\n  margin-bottom: 0 !important;\r\n\tcursor: pointer;\r\n}\r\n.pro_meg_price dl dt{\r\n\tcolor: #999;\r\n  font-size: 14px;\r\n  white-space: nowrap;\r\n  margin-right: 15px;\r\n  padding-top: 0px;\r\n}\r\n.pro_meg_price dl dd{\r\n  margin-bottom: 0 !important;\r\n  font-family: Arial;\r\n}\r\n.pro_meg_price dl dd div{\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.pro_meg_price dl dd span.a {\r\n  margin-left: 8px;\r\n  color: #FF0036;\r\n}\r\n.pro_meg_price dl:last-child dd{\r\n  font-weight: bold;\r\n\tfont-size: 14px;\r\n}\r\n.promo_price{\r\n\tline-height: 24px;\r\n  vertical-align: middle;\r\n  color: #FF0036;\r\n  font-size: 18px;\r\n  font-family: Arial;\r\n  -webkit-font-smoothing: antialiased;\r\n}\r\n.promo_price b{\r\n\tdisplay: inline-block;\r\n\tfont-weight: normal;\r\n}\r\n.promo_price b:last-child{\r\n\tfont-size: 12px;\r\n\tbackground: #f47a86;\r\n\tcolor: white;\r\n\tpadding: 0 6px;\r\n}\r\n.promo_price>.tm-price{\r\n\tfont-size: 20px;\r\n\tdisplay: inline-block;\r\n\tmargin-right: 12px;\r\n\tfont-weight: bold;\r\n}\r\n.nor_price{\r\n  text-decoration: line-through;\r\n}\r\n.sale_tip{\r\n  color: #FF0036 !important;\r\n  font-weight: bolder;\r\n  width: 80px  !important;\r\n}\r\n.pro_meg_deliver{\r\n\tmargin: 5px 20px -15px 0;\r\n\tpadding: 5px;\r\n}\r\n.pro_meg_deliver dl{\r\n\tpadding: 5px;\r\n\tfont-size: 14px;\r\n\tcolor: black;\r\n\tcursor: pointer;\r\n}\r\n.pro_meg_deliver dl dt{\r\n\tcolor: #999;\r\n    font-size: 14px;\r\n    text-align: left;\r\n    width: 69px;\r\n    margin: 0 0 0 8px;\r\n    float: left;\r\n}\r\n.pro_meg_deliver dl dd{\r\n\tfont-size: 13px;\r\n}\r\n.pro_meg_console{\r\n\tmargin: 5px 20px 5px 0;\r\n\tpadding: 5px;\r\n}\r\n.tb-sku{\r\n\tpadding: 5px;\r\n\tfont-size: 14px;\r\n\tcolor: black;\r\n\tcursor: pointer;\r\n}\r\n.tb-sku dt{\r\n\tcolor: #999;\r\n    font-size: 14px;\r\n    text-align: left;\r\n    width: 69px;\r\n    margin: 0 0 0 8px;\r\n    float: left;\r\n}\r\n.tb-sku dd{\r\n\tfont-size: 13px;\r\n}\r\n.tb-sku dd div{\r\n\tdisplay: inline-block;\r\n\tmargin-right: 20px;\r\n}\r\n.item-amout{\r\n\theight: 25px;\r\n}\r\n.item-amout a{\r\n\tdisplay: inline-block;\r\n    height: 23px;\r\n    width: 17px;\r\n    border: 1px solid #e5e5e5;\r\n    background: #f0f0f0;\r\n    text-align: center;\r\n    line-height: 23px;\r\n    color: #444;\r\n    cursor: pointer;\r\n}\r\n.item-amout a:hover{\r\n\tcolor: #f50;\r\n    border-color: #f60;\r\n}\r\n.item-amout>.text_amount{\r\n\twidth: 40px;\r\n\theight: 20px;\r\n\ttext-align: center;\r\n\tdisplay: inline-block;\r\n}\r\n.shopping_car{\r\n\tmargin: 20px auto 0;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.shopping_car button{\r\n  outline: none;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Goods/Goods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.goodsDetail[0])?_c('div',{attrs:{\"id\":\"container\"}},[_c('div',{staticClass:\"pro_detail\"},[_c('div',{staticClass:\"pro_img\"},[_c('div',{staticClass:\"tb_booth\"},[_c('img',{staticClass:\"pro_middle_img\",attrs:{\"width\":\"100\",\"height\":\"100\",\"src\":_vm.goodsDetail[0].image_url}})])]),_vm._v(\" \"),_c('div',{staticClass:\"pro_meg\"},[_c('div',{staticClass:\"pro_meg_hd\"},[_c('h1',[_vm._v(\"\\n\\t\\t\\t\\t\\t \\t\\t\"+_vm._s(_vm.goodsDetail[0].short_name)+\"\\n\\t\\t\\t\\t\\t\\t\")])]),_vm._v(\" \"),_c('div',{staticClass:\"pro_meg_price\"},[_c('dl',[_c('dt',[_vm._v(\"价格\")]),_vm._v(\" \"),_c('dd',[_c('div',{staticClass:\"promo_price\"},[_c('span',{staticClass:\"tm-price\"},[_vm._v(_vm._s(_vm._f(\"moneyFormat\")(_vm.goodsDetail[0].price / 100)))])])])]),_vm._v(\" \"),_c('dl',[_c('dt',[_vm._v(\"商品描述\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.goodsDetail[0].goods_name))])]),_vm._v(\" \"),_c('dl',[_c('dt',[_vm._v(\"发布人\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.goodsDetail[0].publisher_id == _vm.userInfo.id ? '本人' : _vm.goodsDetail[0].publisher)),_c('span',{staticClass:\"a\"},[_vm._v(_vm._s(_vm.goodsDetail[0].user_status == 1 ? '已实名' : '未实名'))])])]),_vm._v(\" \"),_c('dl',[_c('dt',[_vm._v(\"发布时间\")]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm.goodsDetail[0].createTime))])])]),_vm._v(\" \"),_c('div',{staticClass:\"pro_meg_console\"},[_c('div',{staticClass:\"shopping_car\"},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.goodsDetail[0].publisher_id !== _vm.userInfo.id),expression:\"goodsDetail[0].publisher_id !== userInfo.id\"}],attrs:{\"type\":\"danger\"},on:{\"click\":function($event){$event.preventDefault();return _vm.dealWithCellBtnClick(_vm.goodsDetail[0])}}},[_vm._v(\"立即购买\")])],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"pro_comment\"},[_c('h3',[_vm._v(\"全部留言\")]),_vm._v(\" \"),(_vm.goodsComment.length !== 0)?_c('div',_vm._l((_vm.goodsComment),function(comment,index){return _c('div',{key:index,staticClass:\"media\"},[_c('div',{staticClass:\"media-body\"},[_c('h6',{staticClass:\"media-heading\"},[_vm._v(\"用户: \"),(comment.user_id == _vm.goodsDetail[0].publisher_id)?_c('span',[_vm._v(\"商家\")]):_c('span',[_vm._v(_vm._s(_vm._f(\"nameFormat\")(comment.user_nickname)))]),(_vm.goodsDetail[0].publisher_id == _vm.userInfo.id || comment.user_id == _vm.userInfo.id)?_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"#409eff\",\"font-weight\":\"normal\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.delComment(comment.comment_id)}}},[_vm._v(\"删除\")]):_vm._e()]),_vm._v(\" \"),_c('span',[_vm._v(\"留言:\")]),_vm._v(\" \"+_vm._s(comment.comment_detail)+\"\\n            \")])])}),0):_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-body\"},[_vm._v(\"\\n            暂无留言\\n          \")])])]),_vm._v(\" \"),(_vm.userInfo.user_nickname)?_c('div',{staticClass:\"pro_judge\"},[_c('h3',[_vm._v(\"留言\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.textarea),callback:function ($$v) {_vm.textarea=$$v},expression:\"textarea\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.post()}}},[_vm._v(\"发布\"),_c('i',{staticClass:\"el-icon-edit el-icon--right\"})])],1):_c('div',{staticClass:\"pro_judge\"},[_c('h3',[_vm._v(\"评价该商品\")]),_vm._v(\" \"),_c('span',{staticClass:\"judge_erro_tip\"},[_vm._v(\"登录后才可发表评论\")])])]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-080227ca\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Goods/Goods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-080227ca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Goods.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Goods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Goods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-080227ca\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Goods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-080227ca\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Goods/Goods.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}